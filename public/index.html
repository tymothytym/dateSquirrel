
<!DOCTYPE html>
<html lang="en">
    <head>
        <title>dateSquirrel | Test it's working page</title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name ="robots" content="index,archive,follow">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <link rel="stylesheet" type="text/css" href="https://unpkg.com/spectre.css/dist/spectre.min.css" />
        <link rel="stylesheet" type="text/css" href="vendor/prism.css" />
        <link rel="stylesheet" type="text/css" href="tests/css/style.css" />
        <link rel="stylesheet" type="text/css" href="dist/dsq.css" />        <style>
        </style>    </head>
    <body class="home__pg">
    	<main id="dsqTests" class="">
			<noscript><p>Sorry, dateSquirrel requires JavaScript to work</p><a href="/">Back to the home page</a></noscript>
			<div class="app">
				<div id="dsqApp">
					<form>
        				

<section class="splash columns">
    <header id="home" class="intro column col-12 col-mx-auto">
        <h1>dateSquirrel&nbsp;<span>a datepicker with a nutty tang</span></h1>
    </header>
    <div class="quiz-box example column col-8 col-md-10 col-sm-12 col-mx-auto">
        <label for="eg0">Default settings, no customisation</label>
        <input id="eg0" type="date" placeholder="Pick a date">
    </div>
</section>
<section class="light" id="getstarted">
    <div class="columns">
        <div class="column col-12">
            <h2>Getting started</h2>
            <p>Going through the steps below should get dateSquirrel up and running on your site. If you notice any bugs, please post them to <a>GitHub issues</a>.</p>
            <p class="callout-reminder">dateSquirrel assumes you have standard (s)css resetting and / or normalization included in your site or build and doesn't include this.</p>
            <h3>Dependencies</h3>
            <p>dateSquirrel has no dependencies (except for JavaScript!)</p>
            <h3>Browser support</h3>
            <p>dateSquirrel supports recent(ish) browsers but needs access to some newer (but not bleeding edge) JavaScript DOM properties &amp; methods; Element.querySelector(), EventTarget.addEventListener() &amp; Element.classList - dateSquirrel also polyfills for Element.closest(), childNode.remove() and Array.from for the benefit of IE11</p>
            <p>dateSquirrel is only attempts to support browsers that have a share of <a href="https://netmarketshare.com/browser-market-share.aspx?options=%7B%22filter%22%3A%7B%22%24and%22%3A%5B%7B%22deviceType%22%3A%7B%22%24in%22%3A%5B%22Desktop%2Flaptop%22%2C%22Mobile%22%5D%7D%7D%5D%7D%2C%22dateLabel%22%3A%22Trend%22%2C%22attributes%22%3A%22share%22%2C%22group%22%3A%22browserVersion%22%2C%22sort%22%3A%7B%22share%22%3A-1%7D%2C%22id%22%3A%22browsersDesktopVersions%22%2C%22dateInterval%22%3A%22Monthly%22%2C%22dateStart%22%3A%222017-01%22%2C%22dateEnd%22%3A%222017-12%22%2C%22segments%22%3A%22-1000%22%7D" target="_blank">above ~3% globally</a> which means testing is only done on Chrome, Safari, Firefox &amp; grudgingly IE11 (Sorry Opera users).
            <h3>Step one: add the script reference to your page(s)</h3>
            <div class="columns">
                <div class="column col-6 col-md-12">
                	<p>You can add the script to the <code class="language-html">&lt;header></code> or the <code class="language-html">&lt;body></code> but make sure that any scripts that use dateSquirrel are loaded after it is.</p>
                </div>
                <div class="column col-6 col-md-12">
	                <pre>
	                    <code class="language-html" id="code_01">
	                    &lt;body>
	                        &lt;!-- page html -->
	                        &lt;script src="path/to/dsq.min.js">&lt;/script>
	                        &lt;!-- scripts that use dsq-->
	                    &lt;/body>
	                    </code>
	                </pre>
	            </div>
            </div>
        </div>
    </div>
    <div class="columns">
        <div class="column col-12">
            <h3>Step two: add the HTML</h3>
            <div class="columns">
                <div class="column col-6 col-md-12">
                	<p>The html is pretty simple from a base requirement; a label and an input with <code class="language-html">type=date</code>. The <code class="language-html">&lt;label></code> should have a <code class="language-html">for</code> attribute, but should not wrap the input.</p>
                </div>
                <div class="column col-6 col-md-12">
                    <pre>
                        <code class="language-html" id="code_02">
                            &lt;label for="eg1">Pick a date&lt;/label>
                            &lt;input type="date" id="eg1">
                        </code>
                    </pre>
                </div>
            </div>
        </div>
        <div class="column col-12">
            <h3>Step three: initialise dateSquirrel</h3>
            <div class="columns">
                <div class="column col-6 col-md-12">
                	<p>Initialise dateSquirrel by instance (<code class="language-html">id</code>) or globally (<code class="language-html">class</code>) using standard JavaScript. You can (recommended) attach it to a variable if you want to operate on the field programmatically, but it can also be instantated without binding in it's simplest form.</p>
                </div>
                <div class="column col-6 col-md-12">
                    <pre>
                        <code class="language-js" id="code_03">
                            // either by selector...
                            new dsq('[type="date"]');

                            // ...or by element...
                            const dateInput = document.getElementById('myDateInput');
                            new dsq(dateInput);

                            // ...but generally you would want to create an object 
                            // (or objects) so you can operate on it
                            const myDatePicker = new dsq('#myDateInput');
                        </code>
                    </pre>
                </div>
            </div>
        </div>
        <div class="column col-12">
            <h3>Output: dateSquirrel field</h3>
            <div class="columns">
                <div class="column col-6 col-md-12">
                    <label class="eg-label" for="eg1">Pick a date</label>
                    <input type="date" id="eg1" placeholder="Tada!">
                	<p>That is all you need to get some basic date-squirrelling going on. There are a bunch of more complex options, so read on for advanced features...</p>
                </div>
                <div class="column col-6 col-md-12">
                    <pre>
                        <code class="language-html" id="code_04">
                            &lt;body>
                                &lt;label for="eg1">Pick a date&lt;/label>
                                &lt;input type="date" id="eg1" placeholder="Tada!">
                                
                                &lt;script src="path/to/dsq.min.js">&lt;/script>
                                &lt;script>
                                    new dsq('#eg1', {
                                        pattern: 'dx mmm yyyy'
                                    });
                                &lt;/script>
                            &lt;/body>
                        </code>
                    </pre>
                </div>
            </div>
        </div>
    </div>
</section><section class="darker" id="examples">
    <div class="columns">
        <div class="column col-12">
            <h2>Examples of features &amp; functions</h2>
            <div class="columns">
                <div class="column col-6 col-md-12">
                    <label class="eg-label" for="eg2">Specify visual format (text)</label>
                    <input type="date" id="eg2" placeholder="Fancy date format">
                </div>
                <div class="column col-6 col-md-12">
<pre>
<code class="language-html" id="code_05">
&lt;label class="eg-label" for="eg2">Specify visual format (text)&lt;/label>
&lt;input type="date" id="eg2" placeholder="Fancy date format">
&lt;script>
	new dsq('#eg2', {
		pattern: 'wwww, dx mmmm yyyy'
	});
&lt;/script>
</code>
</pre>
                </div>
            </div>
            <div class="columns">
                <div class="column col-6 col-md-12">
                    <label class="eg-label" for="eg03">Set initial date (text)</label>
                    <input type="date" id="eg03" placeholder="Pre shrunk & cottony fresh">
                </div>
                <div class="column col-6 col-md-12">
<pre>
<code class="language-html" id="code_005">
&lt;label class="eg-label" for="eg03">Specify visual format (text)&lt;/label>
&lt;input type="date" id="eg03" placeholder="Fancy date format">
&lt;script>
	new dsq('#eg03', {
		initial: '4/12/2022'
	});
&lt;/script>
</code>
</pre>
                </div>
            </div>
            <div class="columns">
                <div class="column col-6 col-md-12">
                    <label class="eg-label" for="eg3">Start &amp; end dates (text, function)</label>
                    <input type="date" id="eg3" placeholder="From hence to thence">
                </div>
                <div class="column col-6 col-md-12">
<pre>
<code class="language-html" id="code_06">
&lt;label class="eg-label" for="eg3">Start &amp; end dates (text, function)&lt;/label>
&lt;input type="date" id="eg3" placeholder="From hence to thence">
&lt;script>
	// with literal dates
	new dsq('#eg3', {
		start: {
			d: 28, // the 28th day
			m: 1, // the SECOND month (February)
			y: 1990 // the full year
		},
		end: {
			d: 1, // the 1st day
			m: 6, // the SEVENTH month (July)
			y: 2000 // the full year
		} 
	});

	// via individual functions that return numbers
	var today = new Date();
	new dsq('#eg3', {
		start: {
			d: 1, // Beginning of the month (1st)
			m: today.getMonth(), // Today's month
			y: today.getFullYear() + 1 // next year
		} 
	});

	// note: dsq automatically changes impossible dates **downward** 
	// to the nearest possible value 
	{
		d: 31, // becomes => 29 because...
		m: 1, // ... it's in Feb...
		y: 2020 // ... and a leap year
		// result = 29th Feb 2020
	} 
	{
		d: 34, // becomes => 31
		m: 15, // becomes => 11 (December)
		y: 1999
		// result = 31st Dec 1999
	} 

	// via a date object
	new dsq('#eg3', {
		start: new Date(new Date().getFullYear() - 10, 
			new Date().getMonth(), 
			new Date().getDate()) 
			// ten years ago
	});

	// note: ranges INCLUDE start and end day
	// note: Months are expected as: 0 = Jan, 1 = Feb, 2 = Mar..., 11 = Dec
&lt;/script>
</code>
</pre>
                </div>
            </div>
            <div class="columns">
                <div class="column col-6 col-md-12">
                    <label class="eg-label" for="eg4">Get creative; use a function (function)</label>
                    <input type="date" id="eg4" placeholder="Rolling start date">
                </div>
                <div class="column col-6 col-md-12">
<pre>
<code class="language-html" id="code_07">
&lt;label class="eg-label" for="eg4">Get creative; use a function (function)&lt;/label>
&lt;input type="date" id="eg4" placeholder="Rolling start date">
&lt;script>
new dsq('#eg4', {
	start: function() {
		// a simple function to calculate the date three days
		// in the future (excluding weekends)
		var today = new Date(),
		dayName = today.toLocaleString('en-gb', { weekday: "short" }),
		workDaysHence,
		addD = function addDays(d, days) {
			return new Date(d.valueOf())
				.setDate(new Date(d.valueOf()).getDate() + days);
		};
		if (dayName === 'Mon' || dayName === 'Tue') {
			workDaysHence = addD(today, 3);
		} else if (dayName === 'Wed' || dayName === 'Thu' || 
			dayName === 'Fri' || dayName === 'Sat') {
			workDaysHence = addD(today, 5);
		} else {
			workDaysHence = addD(today, 4);
		}
		// you must return a Date object!
		return new Date(workDaysHence); 
	},
	// the first of the month following next
	end: new Date(new Date().getFullYear(), new Date().getMonth() + 2, 1) 
});
&lt;/script>
</code>
</pre>
                </div>
            </div>
            <div class="columns">
                <div class="column col-6 col-md-12">
                    <label class="eg-label" for="eg5">No day selection (boolean)</label>
                    <input type="date" id="eg5" placeholder="Details are for squares">
                </div>
                <div class="column col-6 col-md-12">
<pre>
<code class="language-html" id="code_08">
&lt;label class="eg-label" for="eg5">No day selection (boolean)&lt;/label>
&lt;input type="date" id="eg5" placeholder="Details are for squares">
&lt;script>
	new dsq('#eg5', {
		day: false,
		pattern: 'mmm \'yy'
	});
&lt;/script>
</code>
</pre>
                </div>
            </div>
            <div class="columns">
                <div class="column col-6 col-md-12">
                    <label class="eg-label" for="eg6">No day or month selection (boolean)</label>
                    <input type="date" id="eg6" placeholder="Hardly seems worth it">
                </div>
                <div class="column col-6 col-md-12">
<pre>
<code class="language-html" id="code_09">
&lt;label class="eg-label" for="eg6">No day or month selection (boolean)&lt;/label>
&lt;input type="date" id="eg6" placeholder="Hardly seems worth it">
&lt;script>
	new dsq('#eg6', {
		day: false,
		month: false,
		pattern: 'yyyy'
	});
&lt;/script>
</code>
</pre>
                </div>
            </div>
            <div class="columns">
                <div class="column col-6 col-md-12">
                    <label class="eg-label" for="eg7">Default to shortest view</label>
                    <input type="date" id="eg7" placeholder="Pick from days only">
                </div>
                <div class="column col-6 col-md-12">
<pre>
<code class="language-html" id="code_10">
&lt;label class="eg-label" for="eg7">Default to shortest view&lt;/label>
&lt;input type="date" id="eg7" placeholder="Pick from days only">
&lt;script>
    var today = new Date();
    new dsq('#eg7', {
        // beginning of this month
        start: new Date(today.getFullYear(), today.getMonth(), 1),
        // end of this month
        end: {
            d: 32, // becomes => last of month
            m: today.getMonth(), // 0 = Jan, 1 = Feb, 2 = Mar..., 11 = Dec
            y: today.getFullYear()
        }
    });
&lt;/script>
</code>
</pre>
                </div>
            </div>
            <div class="columns">
                <div class="column col-6 col-md-12">
                    <label class="eg-label" for="eg8">Disable specific dates</label>
                    <input type="date" id="eg8" placeholder="Restricted selection">
                </div>
                <div class="column col-6 col-md-12">
<pre>
<code class="language-html" id="code_11">
&lt;label class="eg-label" for="eg8">Disable specific dates&lt;/label>
&lt;input type="date" id="eg8" placeholder="Restricted selection">
&lt;script>
    var firstOfMonth = new Date(new Date().getFullYear(), new Date().getMonth(), 1);
    new dsq('#eg8', {
        start: new Date(2000,0,1),
        end:  new Date(2020,6,10),
        disabledDates: [
            // recurring days ("mon", "tue",..., "sun")
            "wed", 
            // recurring dates ("mm/dd" n.b. 00/01 === January 1st)
            "11/25", 
            // single dates (Date objects)
            new Date(2019, 0, 31), 
            // date ranges ([Date object, Date object])
            [new Date(2008,3,15), new Date(2008,4,14)], 
            [new Date(2000,7,2), new Date(2003,9,22)],
            [new Date(2001,7,2), new Date(2003,0,31)],
            [new Date(2010,0,1), new Date(2013,0,14)],
            [new Date(2014,6,1), new Date(2016,2,14)], 
            // whole years (1999, 2000,..., 2999)
            2006, 
            // recurring months (0, 1,..., 11)
            5
        ]
    });
&lt;/script>
</code>
</pre>
                </div>
            </div>
            <div class="columns">
                <div class="column col-6 col-md-12">
                    <label class="eg-label" for="eg9">Defaulting to months</label>
                    <input type="date" id="eg9" placeholder="No year selection">
                </div>
                <div class="column col-6 col-md-12">
<pre>
<code class="language-html" id="code_12">
&lt;label class="eg-label" for="eg9">Defaulting to months&lt;/label>
&lt;input type="date" id="eg9" placeholder="No year selection">
&lt;script>
    new dsq('#eg9', {
        start: new Date(2020,0,1),
        end: new Date(2020,3,30)
    });
&lt;/script>
</code>
</pre>
                </div>
            </div>
            <div class="columns">
                <div class="column col-6 col-md-12">
                	<p>**DEPRECIATED** Should now use SCSS or CSS to style</p>
                    <label class="eg-label" for="eg10">Set colours (text -> CSS colours)</label>
                    <input type="date" id="eg10" placeholder="accountForTaste() is not a function">
                </div>
                <div class="column col-6 col-md-12">
<pre>
<code class="language-html" id="code_13">
&lt;label class="eg-label" for="eg10">Set colours (text -> CSS colours)&lt;/label>
&lt;input type="date" id="eg10" placeholder="accountForTaste() is not a function">
&lt;script>
    new dsq('#eg10', {
        primaryColour: 'hsla(340, 82%, 52%, 0.95)',
        primaryTextColour: 'rgba(160, 12, 62, 1)',
        textOnPrimaryColour: '#fbfffe'
    });
&lt;/script>
</code>
</pre>
                </div>
            </div>
            <div class="columns">
                <div class="column col-6 col-md-12">
                    <label class="eg-label" for="eg11">Set start and end dates via min &amp; max</label>
                    <input type="date" id="eg11" min="2012-04-01" max="2017-04-30" placeholder="Look: no hands!">
                </div>
                <div class="column col-6 col-md-12">
<pre>
<code class="language-html" id="code_14">
&lt;label class="eg-label" for="eg11">Set start and end dates via min &amp; max&lt;/label>
&lt;input type="date" id="eg11" min="2012-04-01" max="2017-04-30" placeholder="Look: no hands!">
&lt;script>
    new dsq('#eg11');
&lt;/script>
</code>
</pre>
                </div>
            </div>
            <div class="columns">
                <div class="column col-6 col-md-12">
                    <label class="eg-label" for="eg12">Initialisation criteria (function)</label>
                    <input type="date" id="eg12" placeholder="Sometimes I'm browser-native">
                </div>
                <div class="column col-6 col-md-12">
<pre>
<code class="language-html" id="code_15">
&lt;label class="eg-label" for="eg12">Initialisation criteria (function)&lt;/label>
&lt;input type="date" id="eg12" placeholder="Sometimes I'm browser-native">
&lt;script>
    $('#eg12').dsq({
        activation: function() {
            if ($(window).width() > 1024) {
                return true; // activate
            } else {
                return false; // dormant
            }
        }
    });
&lt;/script>
</code>
</pre>
                </div>
            </div>
            <div class="columns">
                <div class="column col-6 col-md-12">
                    <label class="eg-label" for="eg13" placeholder="Check the console log too">Callback (function)</label>
                    <input type="date" id="eg13">
                </div>
                <div class="column col-6 col-md-12">
<pre>
<code class="language-html" id="code_16">
&lt;label class="eg-label" for="eg13" placeholder="Check the console log too">Callback (function)&lt;/label>
&lt;input type="date" id="eg13" placeholder="Check the console log too">
&lt;script>
    $('#eg13').dsq({
        callback: function() {
            alert('The date set is: ' + this.startDate);
            console.log('Date set: ', this.startDate);
            console.log('End date set (null if no end date): ', this.endDate);
            console.log('The input element: ', this.input);
            console.log('The dateSquirrel input wrapper: ', this.wrapper);
        }
    });
&lt;/script>
</code>
</pre>
                </div>
            </div>
            <div class="columns">
                <div class="column col-6 col-md-12">
                    <label class="eg-label" for="eg14">Auto scroll-into-view</label>
                    <input type="date" id="eg14" placeholder="Don't start with disabled options">
                </div>
                <div class="column col-6 col-md-12">
<pre>
<code class="language-html" id="code_17">
&lt;label class="eg-label" for="eg14">Auto scroll-into-view&lt;/label>
&lt;input type="date" id="eg14" placeholder="Don't start with disabled options">
&lt;script>
    new dsq('#eg14', {
        start:  {
            d: 1, 
            m: 10, // 0 = Jan, 1 = Feb, 2 = Mar..., 11 = Dec
            y: 2029 
        },
        end: {
            d: 32, 
            m: 3, // 0 = Jan, 1 = Feb, 2 = Mar..., 11 = Dec
            y: 2030 
        }
    });
&lt;/script>
</code>
</pre>
                </div>
            </div>
            <div class="columns">
                <div class="column col-6 col-md-12">
                    <label class="eg-label" for="eg15">No scrollbars on lists</label>
                    <input type="date" id="eg15" placeholder="Form > Function">
                </div>
                <div class="column col-6 col-md-12">
<pre>
<code class="language-html" id="code_18">
&lt;label class="eg-label" for="eg15">No scrollbars on lists&lt;/label>
&lt;input type="date" id="eg15" placeholder="Form > Function">
&lt;script>
    new dsq('#eg15', {
        hideScrollbars: true
    });
&lt;/script>
</code>
</pre>
                </div>
            </div>
            <div class="columns">
                <div class="column col-6 col-md-12">
                    <legend>Example of setting a time interval with a callback</legend>
                    <div class="half-box">
                        <div class="half-segment">
                            <label class="eg-label" for="eg16">Start date</label>
                            <input type="date" id="eg16" placeholder="From hence...">
                        </div>
                        <div class="half-segment">
                            <label class="eg-label" for="eg17">End date</label>
                            <input type="date" id="eg17" placeholder="...to thence" disabled>
                        </div>
                    </div>
                    <p id="eg17Output"></p>
                </div>
                <div class="column col-6 col-md-12">
<pre>
<code class="language-html" id="code_19">
&lt;div class="half-box">
    &lt;div class="half-segment">
        &lt;label class="eg-label" for="eg16">Start date&lt;/label>
        &lt;input type="date" id="eg16" placeholder="From hence...">
    &lt;/div>
    &lt;div class="half-segment">
        &lt;label class="eg-label" for="eg17">End date&lt;/label>
        &lt;input type="date" id="eg16" placeholder="...to thence" disabled>
    &lt;/div>
&lt;/div>
&lt;script>
    let dateA = new Date(),
    output = document.getElementById('eg17Output').innerHTML,
    boxA = new dsq('#eg16', {
        start: today,
        end: {
            d: today.getDate(),
            m: today.getMonth(),
            y: today.getFullYear() + 3
        },
        callback: function() {
            dateA = new Date(this.date.getFullYear(), 
                            this.date.getMonth(), 
                            this.date.getDate() + 1);
            boxB.destroy();
            boxB = new dsq('#eg17', {
               start: dateA,
                end: {
                    d: today.getDate(),
                    m: today.getMonth(),
                    y: today.getFullYear() + 5
                },
                callback: function() {
                    const difference = new Date(this.date - dateA);
                    output = "That's " + 
                            (difference.toISOString().slice(0, 4) - 1970) + " years, " + 
                            (difference.getMonth()) + " months and " + 
                            difference.getDate() + " days";
                }
            });
            document.getElementById('eg17').disabled = false;
        }
    }),
    boxB = new dsq('#eg17');
&lt;/script>
</code>
</pre>
                </div>
            </div>
            <div class="columns">
                <div class="column col-6 col-md-12">
                    <label class="eg-label" for="eg18">Format user input</label>
                    <input type="date" id="eg18" placeholder="Be gentle">
                </div>
                <div class="column col-6 col-md-12">
<pre>
<code class="language-html" id="code_19">
&lt;label class="eg-label" for="eg16">Format user input&lt;/label>
&lt;input type="date" id="eg18" placeholder="Be gentle">
&lt;script>
	new dsq('#eg18', {
    	parse: true,
    	parseDelay: 2000
    });
&lt;/script>
</code>
</pre>
                </div>
            </div>
        </div>
    </div>
</section><footer>
	<p>&copy; tymothytym 2018</p>
    <a class="navigation-icon" href="#home">Back to top</a>
</footer>
					</form>
        		</div>
			</div>
		</main>
		<script src="https://cdn.jsdelivr.net/npm/clipboard@2/dist/clipboard.min.js"></script>
		<script src="vendor/prism.js"></script>
		<script src="dist/dsq.js" ></script>
		<script src="tests/js/test.js" onload="require('initialize');"></script>
  </body>
</html>