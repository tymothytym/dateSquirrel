!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.dsq=e():t.dsq=e()}("undefined"!=typeof self?self:this,function(){return function(t){var e={};function s(i){if(e[i])return e[i].exports;var a=e[i]={i:i,l:!1,exports:{}};return t[i].call(a.exports,a,a.exports,s),a.l=!0,a.exports}return s.m=t,s.c=e,s.d=function(t,e,i){s.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:i})},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="",s(s.s=0)}([function(t,e,s){t.exports=s(1)},function(t,e,s){"use strict";t.exports=s(2).default},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n=function(){function t(t,e){for(var s=0;s<e.length;s++){var i=e[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,s,i){return s&&t(e.prototype,s),i&&t(e,i),e}}(),o=s(3),r=(i=o)&&i.__esModule?i:{default:i};function l(t){if(Array.isArray(t)){for(var e=0,s=Array(t.length);e<t.length;e++)s[e]=t[e];return s}return Array.from(t)}var h=function(){function t(e,s){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),!e.nodeName&&null==(e=document.querySelector(e)))throw"dateSquirrel was unable to find the element!";if("INPUT"!==e.nodeName)throw"dateSquirrel only works on <input> fields!";var i,a,n,o;if(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(t){var e=this;if(!document.documentElement.contains(e))return null;do{if(e.matches(t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null}),Array.from||(Array.from=(i=Object.prototype.toString,a=function(t){return"function"==typeof t||"[object Function]"===i.call(t)},n=Math.pow(2,53)-1,o=function(t){var e,s=(e=Number(t),isNaN(e)?0:0!==e&&isFinite(e)?(e>0?1:-1)*Math.floor(Math.abs(e)):e);return Math.min(Math.max(s,0),n)},function(t){var e=Object(t);if(null==t)throw new TypeError("Array.from requires an array-like object - not null or undefined");var s,i=arguments.length>1?arguments[1]:void 0;if(void 0!==i){if(!a(i))throw new TypeError("Array.from: when provided, the second argument must be a function");arguments.length>2&&(s=arguments[2])}for(var n,r=o(e.length),l=a(this)?Object(new this(r)):new Array(r),h=0;h<r;)n=e[h],l[h]=i?void 0===s?i(n,h):i.call(s,n,h):n,h+=1;return l.length=r,l})),[Element.prototype,CharacterData.prototype,DocumentType.prototype].forEach(function(t){t.hasOwnProperty("remove")||Object.defineProperty(t,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){null!==this.parentNode&&this.parentNode.removeChild(this)}})}),e.hasAttribute("min")){var l=e.getAttribute("min").split("-");r.default.start=new Date(l[0],1*l[1]-1,l[2])}if(e.hasAttribute("max")){var h=e.getAttribute("max").split("-");r.default.end=new Date(h[0],1*h[1]-1,h[2])}if(this.options=this.extend(r.default,s||{}),this.o=e,this.label=e.parentElement,this.uid="_dsq"+this.newId(),!1 in document){if(console.log("queryselector","querySelector"in document),!1 in window&&(console.log("addEventListener","addEventListener"in window),!1 in window))throw console.log("classList","addEventListener"in window.Element.prototype),"Browser doesn't meet the minimum dateSquirrel activation requirements"}else{if(!this.options.activation.call(this))return;this.init()}}return n(t,[{key:"init",value:function(){var t="#"+this.uid,e="",s=this.options.cssContainerClass+"_"+this.uid,i=t+" ."+this.options.classPrefix+"lists ul>li."+this.options.classPrefix+"active{color:"+this.options.primaryTextColour+"}",a=t+" ."+this.options.classPrefix+"lists ul>li:not(."+this.options.classPrefix+"dow-header):not(."+this.options.classPrefix+"disabled):hover{background-color:"+this.options.primaryColour+";color:"+this.options.textOnPrimaryColour+"}"+t+" ."+this.options.classPrefix+"lists ul>li:not(."+this.options.classPrefix+"dow-header):active{background-color:"+this.options.primaryColour+";color:"+this.options.textOnPrimaryColour+"}@media only screen and (min-width: "+this.options.breakpoint+") {"+t+" ."+this.options.classPrefix+"side{background-color:"+this.options.primaryColour+"}"+t+" ."+this.options.classPrefix+"reminder-month,"+t+" ."+this.options.classPrefix+"reminder-year {color:"+this.options.textOnPrimaryColour+"}}";this.options.start=this.processUd(this.options.start),this.options.end=this.processUd(this.options.end),this.monthList=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],this.rowHeight=40,this.listHeight=6*this.rowHeight+this.rowHeight/2,this.options.dontWrap||this.wrap(),this.o.setAttribute("type","text"),this.options.primaryTextColour!==r.default.primaryTextColour&&(e+=i),this.options.primaryColour===r.default.primaryColour&&this.options.textOnPrimaryColour===r.default.textOnPrimaryColour||(e+=a),this.options.hideScrollbars&&(e+=t+" ."+this.options.classPrefix+"lists > ."+this.options.classPrefix+"list-years{width:calc(100% + 30px)}"+t+" ."+this.options.classPrefix+"lists > ."+this.options.classPrefix+"list-months{left:calc(100% + 30px);width:calc(100% - 50px);}"),this.injectCss(s,e),this.isActive=!0,this.makeLists()}},{key:"destroy",value:function(){if(this.isActive){var t=this.lists.years.querySelectorAll("li")||!1,e=this.lists.months.querySelectorAll("li")||!1,s=this.lists.querySelectorAll(".dsq-list-days > li[data-day]")||!1;if(!s){this.rmEvt(this.lists.querySelector(".dsq-reminder-month"),"click",this.reminderMonthFn,!1),this.rmEvt(this.lists.querySelector(".dsq-reminder-year"),"click",this.reminderYearFn,!1);for(var i=0;i<s.length;i++)this.rmEvt(s[i],"click",this.dayClickFn,!1)}if(!e)for(var a=0;a<e.length;a++)this.rmEvt(e[a],"click",this.mthClickFn,!1);if(!t)for(var n=0;n<t.length;n++)this.rmEvt(t[n],"click",this.yrClickFn,!1);this.rmEvt(this.o,"blur",this.blurFn,!1),this.rmEvt(this.o,"focus",this.focFn,!1),this.rmEvt(document.documentElement,"click",this.htmlClickFn,!1),this.o.setAttribute("type","date"),this.unwrap(document.getElementById(this.uid)),this.removeData(this)}this.o=null,this.label=null,this.uid=null}},{key:"makeLists",value:function(){if(this.options.end.y===this.options.start.y?(this.hasYear=!1,this.selectedYear=this.options.start.y,this.options.end.m===this.options.start.m&&this.options.end.y===this.options.start.y?(this.hasMonth=!1,this.selectedMonth=this.options.start.m):this.hasMonth=!0):(this.hasYear=!0,this.hasMonth=!0,this.selectedYear=!1,this.selectedMonth=!1),this.lists.querySelector(".dsq-list-years").innerHTML="",this.lists.querySelector(".dsq-list-months").innerHTML="",this.disDates=[],this.options.disabledDates){this.disDates.days=[],this.disDates.months=[],this.disDates.years=[],this.disDates.recurringDays=[],this.disDates.recurringDates=[];for(var e in this.options.disabledDates)if("string"==typeof this.options.disabledDates[e])if(/^\w{3}$/.test(this.options.disabledDates[e]))this.disDates.recurringDays.push(this.options.disabledDates[e].toLowerCase());else{this.disDates.recurringDates.push(this.options.disabledDates[e]);for(var s=this.options.start.getFullYear();s<this.options.end.getFullYear();s++)this.disDates.days.push(s+"/"+this.options.disabledDates[e]);this.options.end.getTime()>=new Date(this.options.end.getFullYear()+"/"+this.options.disabledDates[e]).getTime()&&this.disDates.days.push(this.options.end.getFullYear()+"/"+this.options.disabledDates[e])}else if(this.options.disabledDates[e]instanceof Date)this.disDates.days.push(this.options.disabledDates[e].getFullYear()+"/"+this.options.disabledDates[e].getMonth()+"/"+this.options.disabledDates[e].getDate());else if("object"===a(this.options.disabledDates[e])){var i,n,o,r=this.tagDisabled(this.options.disabledDates[e][0],this.options.disabledDates[e][1]);(i=this.disDates.days).push.apply(i,l(r.days)),(n=this.disDates.months).push.apply(n,l(r.months)),(o=this.disDates.years).push.apply(o,l(r.years))}else if("number"==typeof this.options.disabledDates[e])if(this.options.disabledDates[e].toString().length>2)this.disDates.years.push(this.options.disabledDates[e]);else{for(var h=this.options.start.getFullYear();h<this.options.end.getFullYear();h++)this.disDates.months.push(h+"/"+this.options.disabledDates[e]);this.options.end.getTime()>=new Date(this.options.end.getFullYear(),this.options.disabledDates[e],1).getTime()&&this.disDates.months.push(this.options.end.getFullYear()+"/"+this.options.disabledDates[e])}else console.error('Format "'+this.options.disabledDates[e]+'" in dsq.options.disabledDates not recognised');this.disDates.days=new Set(this.uniqBy(this.disDates.days,JSON.stringify)),this.disDates.months=new Set(this.uniqBy(this.disDates.months,JSON.stringify)),this.disDates.years=new Set(this.uniqBy(this.disDates.years,JSON.stringify)),this.disDates.recurringDays=new Set(this.uniqBy(this.disDates.recurringDays,JSON.stringify)),this.disDates.recurringDates=new Set(this.uniqBy(this.disDates.recurringDates,JSON.stringify))}else this.disDates.days=!1,this.disDates.months=!1,this.disDates.years=!1,this.disDates.recurringDays=!1,this.disDates.recurringDates=!1;if(this.hasYear)for(var d=this.options.start.y;d<this.options.end.y+1;d++){var c="";c=!1!==this.disDates.years&&this.disDates.years.has(d)?'class="'+this.options.classPrefix+'disabled" tabindex="-1"':'tabindex="0"',this.lists.querySelector(".dsq-list-years").insertAdjacentHTML("afterbegin",'<li id="'+this.uid+"_y_"+d+'" '+c+' data-year="'+d+'" role="option">'+d+"</li>")}else this.lists.querySelector(".dsq-list-years").insertAdjacentHTML("afterbegin",'<li id="'+this.uid+'_y_0" class="'+this.options.classPrefix+'active" data-year="'+this.options.start.y+'" tabindex="0" role="option">'+this.options.start.y+"</li>");if(this.hasMonth)for(var u=0;u<12;u++)this.lists.querySelector(".dsq-list-months").insertAdjacentHTML("beforeend",'<li id="'+this.uid+"_m_"+u+'" data-month="'+u+'" tabindex="0" role="option">'+this.monthList[u]+"</li>");else this.lists.querySelector(".dsq-list-months").insertAdjacentHTML("beforeend",'<li id="'+this.uid+'_m_0" class="'+this.options.classPrefix+'active" data-month="'+t.format(this.options.start,"mmm")+'" tabindex="0" role="option">'+t.format(this.options.start,"mmm")+"</li>"),this.addDays();var f=this.lists.years.querySelectorAll("li"),p=this.lists.months.querySelectorAll("li"),y=this;if(this.focFn={handleEvent:function(t){if(y.o.setAttribute("readonly","readonly"),y.addEvt(window,"keydown",y.keydownFn,!1),!y.wrapper.classList.contains(y.options.classPrefix+"active")){y.wrapper.classList.add(y.options.classPrefix+"active"),!y.hasYear&&y.hasMonth?(y.lists.classList.add(y.options.classPrefix+"month"),12===p.length&&1===f.length&&y.checkMonths()):y.hasYear||y.hasMonth?y.o.focus():y.lists.classList.add(y.options.classPrefix+"month",y.options.classPrefix+"day"),y.listHeightCalc();var e=y.wouldBeInView(y.lists,!0);"above"===e?y.lists.classList.add(y.options.classPrefix+"down"):"below"===e?y.lists.classList.add(y.options.classPrefix+"up"):y.lists.classList.remove(y.options.classPrefix+"up",y.options.classPrefix+"down")}y.addEvt(document.documentElement,"click",y.htmlClickFn,!1)}},this.blurFn={handleEvent:function(t){y.o.removeAttribute("readonly"),y.clearFocus()}},this.yrClickFn={handleEvent:function(t){if(!t.target.classList.contains(y.options.classPrefix+"disabled")){t.stopPropagation();for(var e=y.lists.years.querySelectorAll("li"),s=(y.lists.months.querySelectorAll("li"),0);s<e.length;s++)e[s].classList.remove(y.options.classPrefix+"active");t.target.classList.add(y.options.classPrefix+"active"),y.selectedYear=1*t.target.getAttribute("data-year"),y.o.value=y.selectedYear,y.lists.classList.contains(y.options.classPrefix+"month")&&!y.lists.classList.contains(y.options.classPrefix+"day")&&(y.lists.months.classList.add(y.options.classPrefix+"switch"),setTimeout(function(){y.lists.months.classList.remove(y.options.classPrefix+"switch")},350)),y.options.month?(y.lists.classList.add(y.options.classPrefix+"month"),y.checkMonths(),y.listHeightCalc()):y.finishUp(),y.clearFocus(),t.target.blur()}}},this.mthClickFn={handleEvent:function(t){if(!t.target.classList.contains(y.options.classPrefix+"disabled")){t.stopPropagation();for(var e=y.lists.months.querySelectorAll("li"),s=0;s<e.length;s++)e[s].classList.remove(y.options.classPrefix+"active");t.target.classList.add(y.options.classPrefix+"active"),y.selectedMonth=1*t.target.getAttribute("data-month"),y.options.day?(y.o.value=y.monthList[y.selectedMonth]+" "+y.selectedYear,y.o.classList.remove(y.options.classPrefix+"active"),y.lists.classList.add(y.options.classPrefix+"day"),y.addDays()):y.finishUp(),y.clearFocus()}}},this.htmlClickFn={handleEvent:function(t){t.target.closest(".dsq")!==y.wrapper&&(y.rmEvt(window,"keydown",y.keydownFn,!1),y.clearFocus(),y.wrapper.classList.contains(y.options.classPrefix+"active")&&(y.removeActive(300),y.rmEvt(document.documentElement,"click",y.htmlClickFn,!1)))}},this.keydownFn={handleEvent:function(t){var e=void 0,s=void 0,i=!0,a=0,n=void 0;y.lists.classList.contains(y.options.classPrefix+"day")?(n=2,e=(s=y.lists.days).querySelectorAll("li[data-day]:not(."+y.options.classPrefix+"disabled):not(."+y.options.classPrefix+"padding)"),y.lists.months.removeAttribute("aria-activedescendant"),y.lists.years.removeAttribute("aria-activedescendant")):y.lists.classList.contains(y.options.classPrefix+"month")?(n=1,e=(s=y.lists.months).querySelectorAll("li:not(."+y.options.classPrefix+"disabled)"),y.lists.days.removeAttribute("aria-activedescendant"),y.lists.years.removeAttribute("aria-activedescendant")):(n=0,e=(s=y.lists.years).querySelectorAll("li:not(."+y.options.classPrefix+"disabled)"),y.lists.days.removeAttribute("aria-activedescendant"),y.lists.months.removeAttribute("aria-activedescendant"));var o=y.findFocus(e);switch(i=o[0],a=o[1],t.which){case 40:if(t.preventDefault(),a!==e.length-1&&!i)if(2!==n)a++;else{for(var r=0,l=y.lists.days.querySelectorAll("li:not(."+y.options.classPrefix+"dow-header):not(."+y.options.classPrefix+"padding)"),h=l.length<a+7?l.length:a+7,d=a;d<h;d++)l[d].classList.contains(y.options.classPrefix+"disabled")&&r++;a=a+7-r<e.length-1?a+7-r:e.length-1}break;case 39:t.preventDefault(),a===e.length-1||i||2!==n||a++;break;case 38:if(t.preventDefault(),0!==a&&!i)if(2!==n)a--;else{for(var c=0,u=y.lists.days.querySelectorAll("li:not(."+y.options.classPrefix+"dow-header):not(."+y.options.classPrefix+"padding)"),f=0>a-7?0:a-7,p=a;p>f;p--)u[p].classList.contains(y.options.classPrefix+"disabled")&&c++;a=a-7+c>-1?a-7+c:0}break;case 37:if(t.preventDefault(),0===a||i||2!==n){if(!i&&1===n&&y.hasYear){y.goToYear();var m=y.lists.years.querySelector("."+y.options.classPrefix+"active");y.lists.years.setAttribute("aria-activedescendant",m.id),y.setFocus(m)}}else a--;break;case 13:t.preventDefault(),t.target.click(),y.clearFocus();break;case 9:i=!1,a=y.findFocus(e)[1],!1===t.shiftKey?a===e.length-1?2!==n?t.preventDefault():document.body.click():y.clearFocus():0===a?0!==n?t.preventDefault():document.body.click():y.clearFocus();break;case 8:document.body.click()}t.which>=37&&t.which<=40&&(s.setAttribute("aria-activedescendant",e[a].id),y.setFocus(e[a]))}},this.hasYear)for(var m=0;m<f.length;m++)this.addEvt(f[m],"click",this.yrClickFn,!1);else f[0].classList.add(this.options.classPrefix+"noh");if(this.hasMonth)for(var g=0;g<p.length;g++)this.addEvt(p[g],"click",this.mthClickFn,!1);else p[0].classList.add(this.options.classPrefix+"noh");this.addEvt(this.o,"focus",this.focFn,!1),this.addEvt(this.o,"blur",this.blurFn,!1)}},{key:"findFocus",value:function(t){for(var e=0;e<t.length;e++)if(t[e]===document.activeElement)return[!1,e];return[!0,0]}},{key:"setFocus",value:function(t,e){this.clearFocus(),void 0!==t&&(t.parentElement.removeAttribute("aria-activedescendant"),t.focus(),t.classList.add(this.options.classPrefix+"focused"),t.parentElement.setAttribute("aria-activedescendant",t.id)),void 0!==e&&e.childNodes[0].focus()}},{key:"clearFocus",value:function(){for(var t=[this.lists.years,this.lists.months,this.lists.days],e=0;e<t.length;e++){t[e].removeAttribute("aria-activedescendant");for(var s=t[e].querySelectorAll("."+this.options.classPrefix+"focused"),i=0;i<s.length;i++)s[i].classList.remove(this.options.classPrefix+"focused"),s[i].blur()}}},{key:"removeActive",value:function(t){var e=this;this.wrapper.classList.add(this.options.classPrefix+"closing"),this.wrapper.classList.remove(this.options.classPrefix+"active"),setTimeout(function(){e.wrapper.classList.remove(e.options.classPrefix+"closing")},t)}},{key:"checkMonths",value:function(){if(this.lists.classList.contains(this.options.classPrefix+"month")&&!this.lists.classList.contains(this.options.classPrefix+"day")){for(var e=!1,s=0;s<12;s++){var i=t.daysInMonth(this.selectedYear,s);!t.isBetweenDates(new Date(this.selectedYear,s,1),this.options.start,this.options.end)&&!t.isBetweenDates(new Date(this.selectedYear,s,i),this.options.start,this.options.end)||!1!==this.disDates.months&&this.disDates.months.has(this.selectedYear+"/"+s)?(this.lists.querySelectorAll(".dsq-list-months li")[s].classList.add(this.options.classPrefix+"disabled"),this.lists.querySelectorAll(".dsq-list-months li")[s].setAttribute("tabindex","-1")):(this.lists.querySelectorAll(".dsq-list-months li")[s].classList.remove(this.options.classPrefix+"disabled"),this.lists.querySelectorAll(".dsq-list-months li")[s].setAttribute("tabindex","0"),!1===e&&(e=s*this.rowHeight))}this.lists.months.scrollTop=e}}},{key:"addDays",value:function(){var e,s=t.daysInMonth(this.selectedYear,this.selectedMonth),i=["sun","mon","tue","wed","thu","fri","sat"];this.reminder.innerHTML='<a class="'+this.options.classPrefix+'reminder-month">'+this.monthList[this.selectedMonth]+'</a>&nbsp;<a class="'+this.options.classPrefix+'reminder-year">'+this.selectedYear+"</a>",this.lists.days.innerHTML='<li class="'+this.options.classPrefix+'dow-header">Mon</li><li class="'+this.options.classPrefix+'dow-header">Tue</li><li class="'+this.options.classPrefix+'dow-header">Wed</li><li class="'+this.options.classPrefix+'dow-header">Thu</li><li class="'+this.options.classPrefix+'dow-header">Fri</li><li class="'+this.options.classPrefix+'dow-header">Sat</li><li class="'+this.options.classPrefix+'dow-header">Sun</li>',e=0===new Date(this.selectedYear,this.selectedMonth,1).getDay()?6:new Date(this.selectedYear,this.selectedMonth,1).getDay()-1;for(var a=0;a<e;a++)this.lists.days.insertAdjacentHTML("beforeend",'<li data-day class="'+this.options.classPrefix+'padding"></li>');for(var n=1;n<s+1;n++){var o=i[new Date(this.selectedYear,this.selectedMonth,n).getDay()];!t.isBetweenDates(new Date(this.selectedYear,this.selectedMonth,n),this.options.start,this.options.end)||!1!==this.disDates.days&&(this.disDates.days.has(this.selectedYear+"/"+this.selectedMonth+"/"+n)||this.disDates.recurringDays.has(o)||this.disDates.recurringDates.has(this.selectedYear+"/"+this.selectedMonth+"/"+n))?this.lists.days.insertAdjacentHTML("beforeend",'<li id="'+this.uid+"_d_"+n+'" class="'+this.options.classPrefix+'disabled" data-day="'+n+'" tabindex="-1" role="option">'+n+"</li>"):this.lists.days.insertAdjacentHTML("beforeend",'<li id="'+this.uid+"_d_"+n+'" data-day="'+n+'" tabindex="0" role="option">'+n+"</li>"),t.isSameDay(new Date,new Date(this.selectedYear,this.selectedMonth,n))&&this.options.markToday&&this.lists.days.querySelector('li[data-day="'+n+'"]').classList.add(this.options.classPrefix+"today")}this.listHeightCalc();var r=this.lists.days.querySelectorAll("li[data-day]"),l=this;this.dayClickFn={handleEvent:function(t){t.stopPropagation(),t.target.classList.contains(l.options.classPrefix+"disabled")||(l.selectedDay=1*t.target.getAttribute("data-day"),l.finishUp(),l.setFocus(t.target))}},this.reminderMonthFn={handleEvent:function(t){t.stopPropagation(),l.lists.dayWrap.classList.add(l.options.classPrefix+"sout"),setTimeout(function(){l.lists.classList.remove(l.options.classPrefix+"day"),l.lists.dayWrap.classList.remove(l.options.classPrefix+"sout"),l.listHeightCalc()},150)}},this.reminderYearFn={handleEvent:function(t){t.stopPropagation(),l.goToYear()}};for(var h=0;h<r.length;h++)this.addEvt(r[h],"click",this.dayClickFn,!1);this.hasYear?this.addEvt(this.lists.querySelector(".dsq-reminder-year"),"click",this.reminderYearFn,!1):this.lists.querySelector(".dsq-reminder-year").classList.add(this.options.classPrefix+"noh"),this.hasMonth?this.addEvt(this.lists.querySelector(".dsq-reminder-month"),"click",this.reminderMonthFn,!1):this.lists.querySelector(".dsq-reminder-month").classList.add(this.options.classPrefix+"noh")}},{key:"goToYear",value:function(){var t=this;this.lists.dayWrap.classList.add(this.options.classPrefix+"sout"),setTimeout(function(){t.lists.dayWrap.classList.remove(t.options.classPrefix+"sout"),t.lists.classList.remove(t.options.classPrefix+"day"),t.lists.months.classList.add(t.options.classPrefix+"sout"),setTimeout(function(){t.lists.classList.remove(t.options.classPrefix+"month"),t.lists.months.classList.remove(t.options.classPrefix+"sout"),t.listHeightCalc()},150)},150),this.lists.months.removeAttribute("aria-activedescendant")}},{key:"finishUp",value:function(){var e=this;void 0===this.selectedDay&&(this.selectedDay=1),void 0===this.selectedMonth&&(this.selectedMonth=1),this.setDate=new Date(this.selectedYear,this.selectedMonth,this.selectedDay),this.setDate.save=t.format(this.setDate,this.options.patternSave),this.setDate.human=t.format(this.setDate,this.options.pattern),this.o.value=this.setDate.human,this.o.setAttribute("data-dsq-date",this.setDate.save),this.o.setAttribute("value",this.selectedYear+"-"+(this.selectedMonth+1)+"-"+this.selectedDay),this.wrapper.classList.add(this.options.classPrefix+"done"),this.removeActive(250),this.rmEvt(document.documentElement,"click",this.htmlClickFn,!1),this.lists.classList.remove(this.options.classPrefix+"day",this.options.classPrefix+"month"),setTimeout(function(){e.makeCallback(),e.wrapper.classList.remove(e.options.classPrefix+"done")},250)}},{key:"makeCallback",value:function(){var t={date:this.setDate,input:this.o,wrapper:this.wrapper,human:this.setDate.human,save:this.setDate.save};this.options.callback.call(t);"function"==typeof this.options.callback||console.error("Datesqrl: Callback not a function")}},{key:"wouldBeInView",value:function(t,e){e=e||!1;var s=t.parentElement.getBoundingClientRect(),i=Math.max(document.documentElement.clientHeight,window.innerHeight),a=s.top<100,n=this.listHeight+s.top-i>=0;return!a&&!n||(e&&a?"above":!(!e||!n)&&"below")}},{key:"removeData",value:function(t){for(;t.firstChild;)t.removeChild(t.firstChild)}},{key:"addEvt",value:function(t,e,s,i){if("addEventListener"in t)try{t.addEventListener(e,s,i)}catch(n){if("object"!==(void 0===s?"undefined":a(s))||!s.handleEvent)throw n;t.addEventListener(e,function(t){s.handleEvent.call(s,t)},i)}else"attachEvent"in t&&("object"===(void 0===s?"undefined":a(s))&&s.handleEvent?t.attachEvent("on"+e,function(){s.handleEvent.call(s)}):t.attachEvent("on"+e,s))}},{key:"rmEvt",value:function(t,e,s,i){if("removeEventListener"in t)try{t.removeEventListener(e,s,i)}catch(n){if("object"!==(void 0===s?"undefined":a(s))||!s.handleEvent)throw n;t.removeEventListener(e,function(t){s.handleEvent.call(s,t)},i)}else"detachEvent"in t&&("object"===(void 0===s?"undefined":a(s))&&s.handleEvent?t.detachEvent("on"+e,function(){s.handleEvent.call(s)}):t.detachEvent("on"+e,s))}},{key:"listHeightCalc",value:function(){var t=(Math.ceil(this.lists.querySelectorAll(".dsq-days > .dsq-list-days > li[data-day]").length/7)+1)*this.rowHeight+20;this.wrapper.classList.contains(this.options.classPrefix+"active")?this.lists.classList.contains(this.options.classPrefix+"day")?this.lists.style.height=t+"px":this.lists.style.height=this.listHeight+"px":this.lists.style.height=this.o.offsetHeight}},{key:"injectCss",value:function(t,e){if(""===e)return!1;if(null===document.querySelector("#dsq_styles")){var s=document.createElement("div");s.id="dsq_styles",s.innerHTML='<style class="'+t+'">'+e+"</style>",document.body.appendChild(s)}else document.querySelector("#dsq_styles").insertAdjacentHTML("beforeend",'<style class="'+t+'">'+e+"</style>")}},{key:"wrap",value:function(){var t=document.createElement("div");t.className="dsq",t.id=this.uid,this.label.parentNode.insertBefore(t,this.label),t.appendChild(this.label),t.insertAdjacentHTML("beforeend",'<div class="'+this.options.classPrefix+'lists"><ul class="'+this.options.classPrefix+'list-years" role="listbox"></ul><ul class="'+this.options.classPrefix+'list-months" role="listbox"></ul><div class="'+this.options.classPrefix+'days"><span class="'+this.options.classPrefix+'side"><p class="'+this.options.classPrefix+'reminder"></p></span><ul class="'+this.options.classPrefix+'list-days" role="listbox"></ul></div></div>'),this.wrapper=t,this.lists=this.wrapper.querySelector("."+this.options.classPrefix+"lists"),this.reminder=this.lists.querySelector("."+this.options.classPrefix+"reminder"),this.lists.dayWrap=this.lists.querySelector("."+this.options.classPrefix+"days"),this.lists.days=this.lists.querySelector("."+this.options.classPrefix+"days ."+this.options.classPrefix+"list-days"),this.lists.months=this.lists.querySelector("."+this.options.classPrefix+"list-months"),this.lists.years=this.lists.querySelector("."+this.options.classPrefix+"list-years")}},{key:"unwrap",value:function(t){document.querySelector("#"+this.uid+" .dsq-lists").remove();for(var e=document.createDocumentFragment();t.firstChild;){var s=t.removeChild(t.firstChild);e.appendChild(s)}t.parentNode.replaceChild(e,t)}},{key:"extend",value:function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(){var t={},e=!1,s=0,i=arguments.length;"[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(e=arguments[0],s++);for(var a=function(s){for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(e&&"[object Object]"===Object.prototype.toString.call(s[i])?t[i]=extend(!0,t[i],s[i]):t[i]=s[i])};s<i;s++){a(arguments[s])}return t})},{key:"newId",value:function(){return"_"+Math.random().toString(36).substr(2,9)}},{key:"getChildren",value:function(t,e){for(var s=[];t;t=t.nextSibling)1==t.nodeType&&t!=e&&s.push(t);return s}},{key:"getSiblings",value:function(t){return getChildren(t.parentNode.firstChild,t)}},{key:"isFunction",value:function(t){return!!(t&&t.constructor&&t.call&&t.apply)}},{key:"findPos",value:function(t){var e=0;if(t.offsetParent){do{e+=t.offsetTop}while(t=t.offsetParent);return[e]}}},{key:"processUd",value:function(e){if(this.isFunction(e))e=e();else if(!(e instanceof Date)){12<=e.m&&(e.m=11);var s=t.daysInMonth(e.y,e.m);s<e.d&&(e.d=s),e=new Date(e.y,e.m,e.d)}return e.y=e.getFullYear(),e.m=e.getMonth(),e.d=e.getDate(),e}},{key:"uniqBy",value:function(t,e){var s=new Set;return t.filter(function(t){var i=e(t);return!s.has(i)&&s.add(i)})}},{key:"tagDisabled",value:function(e,s){new Date(e);var i=new Date(e),a=new Date(s),n=t.countMonths(i,a,!0),o=[],r=new Date(i.getFullYear()+1,11,31);if(1===i.getDate()&&0===i.getMonth()&&n>11?o.years=[i.getFullYear()]:r.getTime()<=a.getTime()?o.years=[i.getFullYear()+1]:o.years=!1,n/24>=1)for(var l=0;l<=t.countMonths(new Date(o.years[0],11,31),a,!0)/12-1;l++)o.years.push(o.years[l]+1);n>=1?o.years[0]!==i.getFullYear()?1===i.getDate()?o.months=[i.getFullYear()+"/"+i.getMonth()]:i.getMonth()+1<=11&&new Date(i.getFullYear(),i.getMonth()+1,31).getTime()<=a.getTime()?o.months=[i.getFullYear()+"/"+(i.getMonth()+1)]:!1===o.years&&new Date(i.getFullYear()+1,0,31).getTime()<=a.getTime()?o.months=[i.getFullYear()+1+"/0"]:!1!==o.years&&new Date(o.years[o.years.length-1]+1,0,31).getTime()<=a.getTime()?o.months=[o.years[o.years.length-1]+1+"/0"]:o.months=!1:new Date(o.years[o.years.length-1]+1,0,31).getTime()<=a.getTime()?o.months=[o.years[o.years.length-1]+1+"/0"]:o.months=!1:o.months=!1;var h=t.countMonths(i,new Date(o.years[0],0,1),!0),d=t.countMonths(new Date(o.years[o.years.length-1]+1,0,1),a,!0);if(h>=2)for(var c=1;c<h;c++)o.months.push(i.getFullYear()+"/"+(1*o.months[c-1].split("/")[1]+1));if(d>=1){var u=0;for(0===h&&u++;u<d;u++)o.months.push(o.years[o.years.length-1]+1+"/"+u)}if(-1===h&&-1===d&&o.months[0])for(var f=1*o.months[0].split("/")[0],p=void 0,y=1;y<n-1;y++)11===(p=1*o.months[y-1].split("/")[1])&&(p=0,f++),o.months.push(f+"/"+(p+1)),11===p?(p=0,f++):p++;if(o.days=[],!1===o.years&&!1===o.months){var m=0;m=i.getMonth()!==a.getMonth()?a.getDate()+1+t.daysInMonth(i.getFullYear(),i.getMonth()):a.getDate()+1;for(var g=i.getDate();g<m;g++)g>=t.daysInMonth(i.getFullYear(),i.getMonth())+1?o.days.push(i.getFullYear()+"/"+a.getMonth()+"/"+(g-t.daysInMonth(i.getFullYear(),i.getMonth()))):o.days.push(i.getFullYear()+"/"+i.getMonth()+"/"+g)}else if(!1===o.years&&!1!==o.months){if(i.getMonth()<o.months[0].split("/")[1])for(var v=i.getDate();v<t.daysInMonth(i.getFullYear(),1*o.months[0].split("/")[1]-1)+1;v++)o.days.push(i.getFullYear()+"/"+i.getMonth()+"/"+v);if(new Date(a.getFullYear(),1*o.months[o.months.length-1].split("/")[1]+1).getTime()<a.getTime())for(var D=1;D<a.getDate()+1;D++)o.days.push(a.getFullYear()+"/"+a.getMonth()+"/"+D)}else if(!1!==o.years&&!1===o.months){if(i.getFullYear()<o.years[0])for(var b=i.getDate();b<t.daysInMonth(i.getFullYear(),i.getMonth())+1;b++)o.days.push(i.getFullYear()+"/"+i.getMonth()+"/"+b);if(new Date(o.years[o.years.length-1]+1,i.getMonth()).getTime()<a.getTime())for(var w=1;w<a.getDate()+1;w++)o.days.push(a.getFullYear()+"/"+a.getMonth()+"/"+w)}else{var x=new Date(o.years[0],0,1).getTime(),P=(new Date(o.years[o.years.length-1],11,31).getTime(),new Date(o.months[0].split("/")[0],o.months[0].split("/")[1]).getTime());new Date(o.months[o.months.length-1].split("/")[0],o.months[o.months.length-1].split("/")[1]).getTime();if(i.getTime()<x&&x<P||i.getTime()<P&&P<x)for(var M=i.getDate();M<t.daysInMonth(i.getFullYear(),i.getMonth())+1;M++)o.days.push(i.getFullYear()+"/"+i.getMonth()+"/"+M);else for(var k=1;k<a.getDate()+1;k++)o.days.push(a.getFullYear()+"/"+a.getMonth()+"/"+k)}return 0===o.days.length&&(o.days=!1),o}},{key:"getValue",value:function(e){return void 0===e?this.setDate:t.format(this.setDate,e)}}],[{key:"modMonths",value:function(e,s){var i=new Date(e),a=i.getDate();return i.setDate(1),i.setMonth(i.getMonth()+s),i.setDate(Math.min(a,t.daysInMonth(i.getFullYear(),i.getMonth()))),i}},{key:"countMonths",value:function(e,s,i){var a=new Date(e),n=new Date(e),o=new Date(s),r=0;for(i&&(1!==n.getDate()&&0!==n.getMonth()&&n.setFullYear(n.getFullYear(),n.getMonth()+1,1),o.getDate()===t.daysInMonth(o.getFullYear(),o.getMonth())?o.setFullYear(o.getFullYear(),o.getMonth()+1,1):o.setFullYear(o.getFullYear(),o.getMonth(),1)),a=n;a.getTime()<=o.getTime();)a.setMonth(a.getMonth()+1),r+=1;return a!==o&&(r-=1),r}},{key:"isBetweenDates",value:function(t,e,s){var i=new Date(s.getFullYear(),s.getMonth(),s.getDate(),23,59,59,999),a=new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,0,0,0);return t.getTime()<=i.getTime()&&t.getTime()>=a.getTime()}},{key:"isSameDay",value:function(t,e){return t.getFullYear()===e.getFullYear()&&t.getMonth()===e.getMonth()&&t.getDate()===e.getDate()}},{key:"daysInMonth",value:function(t,e){return[31,t%4==0&&(t%100!=0||t%400==0)?29:28,31,30,31,30,31,31,30,31,30,31][e]}},{key:"dayOfYear",value:function(t){var e=t.getFullYear(),s=t.getMonth();return 31*s-(s>1?(1054267675>>3*s-6&7)-(3&e||!(e%25)&&15&e?0:1):0)+t.getDate()}},{key:"treatAsUTC",value:function(t){var e=new Date(t);return e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e}},{key:"daysBetween",value:function(e,s){return(t.treatAsUTC(s)-t.treatAsUTC(e))/864e5}},{key:"format",value:function(e,s){s=s||"yyyy-mm-dd";var i=function(t,e){for(t=t.toString(),e=e||2;t.length<e;)t="0"+t;return t},a=function(t){var e=t%10,s=t%100;return 1==e&&11!=s?t+"st":2==e&&12!=s?t+"nd":3==e&&13!=s?t+"rd":t+"th"},n={yyyy:e.getFullYear(),yy:e.getFullYear().toString().slice(2),mmmm:e.toLocaleString("en-gb",{month:"long"}),mmm:e.toLocaleString("en-gb",{month:"short"}),mm:i(e.getMonth()+1),mx:a(e.getMonth()+1),m:e.getMonth()+1,wwww:e.toLocaleString("en-gb",{weekday:"long"}),www:e.toLocaleString("en-gb",{weekday:"short"}),ww:e.toLocaleString("en-gb",{weekday:"short"}).slice(0,2),w:e.toLocaleString("en-gb",{weekday:"narrow"}),dddd:i(t.dayOfYear(e),3),dddx:a(t.dayOfYear(e)),ddd:t.dayOfYear(e),dd:i(e.getDate()),dx:a(e.getDate()),d:e.getDate()},o="("+Object.keys(n).join(")|(")+")";return s.replace(new RegExp(o,"g"),function(t){return n[t]})}}]),t}();e.default=h},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={start:new Date,end:{d:(new Date).getDate(),m:(new Date).getMonth(),y:(new Date).getFullYear()+10},pattern:"dx mmm yyyy",patternSave:"yyyy,mm,dd",day:!0,month:!0,disableDates:!1,markToday:!0,primaryColour:"#1976d2",primaryTextColour:"#002171",textOnPrimaryColour:"#e1f5fe",hideScrollbars:!1,activation:function(){return window.screen.width>319},callback:function(){},classPrefix:"dsq-",dontWrap:!1,cssContainerClass:"dateSquirrel_css",breakpoint:"1024px"};e.default=i}])});