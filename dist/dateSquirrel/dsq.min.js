!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.dsq=e():t.dsq=e()}(window,function(){return function(s){var i={};function a(t){if(i[t])return i[t].exports;var e=i[t]={i:t,l:!1,exports:{}};return s[t].call(e.exports,e,e.exports,a),e.l=!0,e.exports}return a.m=s,a.c=i,a.d=function(t,e,s){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(a.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)a.d(s,i,function(t){return e[t]}.bind(null,i));return s},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="",a(a.s=0)}([function(t,e,s){"use strict";t.exports=s(1).default},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a=function(){function i(t,e){for(var s=0;s<e.length;s++){var i=e[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,e,s){return e&&i(t.prototype,e),s&&i(t,s),t}}(),n=(i=s(2))&&i.__esModule?i:{default:i};function g(t){if(Array.isArray(t)){for(var e=0,s=Array(t.length);e<t.length;e++)s[e]=t[e];return s}return Array.from(t)}var o=function(){function F(t,e){if(function(t,e){if(!(t instanceof F))throw new TypeError("Cannot call a class as a function")}(this),t.nodeName)this.o=t;else if(this.o=document.querySelector(t),null==t)throw"dateSquirrel was unable to find the element(s)!";if("INPUT"!==this.o.nodeName)throw"dateSquirrel only works on <input>";if(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(t){var e=this;if(!document.documentElement.contains(e))return null;do{if(e.matches(t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null}),Array.from||(Array.from=(i=Object.prototype.toString,c=function(t){return"function"==typeof t||"[object Function]"===i.call(t)},u=Math.pow(2,53)-1,function(t){var e=Object(t);if(null==t)throw new TypeError("Array.from requires an array-like object - not null or undefined");var s,i,a,n,o=1<arguments.length?arguments[1]:void 0;if(void 0!==o){if(!c(o))throw new TypeError("Array.from: when provided, the second argument must be a function");2<arguments.length&&(s=arguments[2])}for(var r,l=(i=e.length,n=a=void 0,a=Number(i),n=isNaN(a)?0:0!==a&&isFinite(a)?(0<a?1:-1)*Math.floor(Math.abs(a)):a,Math.min(Math.max(n,0),u)),h=c(this)?Object(new this(l)):new Array(l),d=0;d<l;)r=e[d],h[d]=o?void 0===s?o(r,d):o.call(s,r,d):r,d+=1;return h.length=l,h})),[Element.prototype,CharacterData.prototype,DocumentType.prototype].forEach(function(t){t.hasOwnProperty("remove")||Object.defineProperty(t,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){null!==this.parentNode&&this.parentNode.removeChild(this)}})}),this.o.hasAttribute("min")){var s=this.o.getAttribute("min").split("-");n.default.start=new Date(s[0],1*s[1]-1,s[2])}var i,c,u;if(this.o.hasAttribute("max")){var a=this.o.getAttribute("max").split("-");n.default.end=new Date(a[0],1*a[1]-1,a[2])}if(this.touch=!1,window.addEventListener("touchstart",function t(){F.touchSet(),window.removeEventListener("touchstart",t,!1)},!1),this.options=this.extend(n.default,e||{}),this.uid="_dsq__"+this.o.id,"querySelector"in document){if(!this.options.activation.call(this))return;this.init()}else if(!("addEventListener"in window||"classList"in window))throw"Browser doesn't meet the minimum dateSquirrel activation requirements"}return a(F,[{key:"init",value:function(){this.uid,this.options.start=this.processUd(this.options.start),this.options.end=this.processUd(this.options.end),this.rowHeight=40,this.listHeight=6*this.rowHeight+this.rowHeight/2,this.options.dontWrap||this.wrap(),this.o.setAttribute("type","text"),this.isActive=!0,this.makeLists()}},{key:"destroy",value:function(){if(this.isActive){var t=this.lists.years.querySelectorAll("li")||!1,e=this.lists.months.querySelectorAll("li")||!1,s=this.lists.querySelectorAll(".dsq-list-days > li[data-day]")||!1;if(!s){this.rmEvt(this.lists.querySelector(".dsq-reminder-month"),"click",this.reminderFn,!1),this.rmEvt(this.lists.querySelector(".dsq-reminder-year"),"click",this.reminderFn,!1);for(var i=0;i<s.length;i++)this.rmEvt(s[i],"click",this.dayClickFn,!1)}if(!e)for(var a=0;a<e.length;a++)this.rmEvt(e[a],"click",this.mthClickFn,!1);if(!t)for(var n=0;n<t.length;n++)this.rmEvt(t[n],"click",this.yrClickFn,!1);this.rmEvt(this.o,"blur",this.blurFn,!1),this.rmEvt(this.o,"focus",this.focFn,!1),this.rmEvt(this.o,this.options.parse.etype,this.eventFn,!1),this.rmEvt(document.documentElement,"click",this.htmlClickFn,!1),this.o.setAttribute("type","date"),this.unwrap(),this.removeData(this)}this.o=null,this.uid=null}},{key:"makeLists",value:function(){if(this.options.end.y===this.options.start.y?(this.hasYear=!1,this.selectedYear=this.options.start.y,this.options.end.m===this.options.start.m&&this.options.end.y===this.options.start.y?(this.hasMonth=!1,this.selectedMonth=this.options.start.m):this.hasMonth=!0):(this.hasYear=!0,this.hasMonth=!0,this.selectedYear=!1,this.selectedMonth=!1),this.lists.querySelector(".dsq-list-years").innerHTML="",this.lists.querySelector(".dsq-list-months").innerHTML="",this.disDates=[],this.options.disabledDates){for(var t in this.disDates.days=[],this.disDates.months=[],this.disDates.years=[],this.disDates.recurringDays=[],this.disDates.recurringDates=[],this.options.disabledDates)if("string"==typeof this.options.disabledDates[t])if(/^\w{3}$/.test(this.options.disabledDates[t]))this.disDates.recurringDays.push(this.options.disabledDates[t].toLowerCase());else{this.disDates.recurringDates.push(this.options.disabledDates[t]);for(var e=this.options.start.getFullYear();e<this.options.end.getFullYear();e++)this.disDates.days.push(e+"/"+this.options.disabledDates[t]);this.options.end.getTime()>=new Date(this.options.end.getFullYear()+"/"+this.options.disabledDates[t]).getTime()&&this.disDates.days.push(this.options.end.getFullYear()+"/"+this.options.disabledDates[t])}else if(this.options.disabledDates[t]instanceof Date)this.disDates.days.push(this.options.disabledDates[t].getFullYear()+"/"+this.options.disabledDates[t].getMonth()+"/"+this.options.disabledDates[t].getDate());else if("object"===v(this.options.disabledDates[t])){var s,i,a,n=this.tagDisabled(this.options.disabledDates[t][0],this.options.disabledDates[t][1]);(s=this.disDates.days).push.apply(s,g(n.days)),(i=this.disDates.months).push.apply(i,g(n.months)),(a=this.disDates.years).push.apply(a,g(n.years))}else if("number"==typeof this.options.disabledDates[t])if(2<this.options.disabledDates[t].toString().length)this.disDates.years.push(this.options.disabledDates[t]);else{for(var o=this.options.start.getFullYear();o<this.options.end.getFullYear();o++)this.disDates.months.push(o+"/"+this.options.disabledDates[t]);this.options.end.getTime()>=new Date(this.options.end.getFullYear(),this.options.disabledDates[t],1).getTime()&&this.disDates.months.push(this.options.end.getFullYear()+"/"+this.options.disabledDates[t])}else console.error('Format "'+this.options.disabledDates[t]+'" in dsq.options.disabledDates not recognised');this.disDates.days=new Set(this.uniqBy(this.disDates.days,JSON.stringify)),this.disDates.months=new Set(this.uniqBy(this.disDates.months,JSON.stringify)),this.disDates.years=new Set(this.uniqBy(this.disDates.years,JSON.stringify)),this.disDates.recurringDays=new Set(this.uniqBy(this.disDates.recurringDays,JSON.stringify)),this.disDates.recurringDates=new Set(this.uniqBy(this.disDates.recurringDates,JSON.stringify))}else this.disDates.days=!1,this.disDates.months=!1,this.disDates.years=!1,this.disDates.recurringDays=!1,this.disDates.recurringDates=!1;if(this.hasYear)for(var r=this.options.start.y;r<this.options.end.y+1;r++){var l=document.createElement("li");l.id=this.uid+"_y_"+r,l.dataset.year=r,l.tabIndex=-1,l.setAttribute("role","option"),l.innerHTML=""+r,this.lists.years.insertBefore(l,this.lists.years.firstChild)}else this.lists.years.insertAdjacentHTML("afterbegin",'<li id="'+this.uid+'_y_0" class="'+this.options.classPrefix+'active" data-year="'+this.options.start.y+'" tabindex="-1" role="option">'+this.options.start.y+"</li>");if(this.hasMonth)for(var h=0;h<12;h++)this.lists.months.insertAdjacentHTML("beforeend",'<li id="'+this.uid+"_m_"+h+'" data-month="'+h+'" tabindex="-1" role="option">'+this.options.monthList[h]+"</li>");else this.lists.months.insertAdjacentHTML("beforeend",'<li id="'+this.uid+'_m_0" class="'+this.options.classPrefix+'active" data-month="'+F.format(this.options.start,"mmm")+'" tabindex="-1" role="option">'+F.format(this.options.start,"mmm")+"</li>"),this.addDays();this.options.overlay&&this.lists.classList.add(this.options.classPrefix+"overlay");var d=this.lists.years.querySelectorAll("li"),c=this.lists.months.querySelectorAll("li"),m=this;this.focFn={handleEvent:function(){m.wrapper.classList.contains("dsq-touch")&&m.o.setAttribute("readonly","readonly"),m.addEvt(window,"keydown",m.keydownFn,!1),m.wrapper.classList.contains(m.options.classPrefix+"active")||(m.wrapper.classList.add(m.options.classPrefix+"active"),!m.hasYear&&m.hasMonth?(m.lists.classList.add(m.options.classPrefix+"month"),12===c.length&&1===d.length&&m.checkMonths()):m.hasYear||m.hasMonth?m.o.focus():m.lists.classList.add(m.options.classPrefix+"month",m.options.classPrefix+"day")),m.addEvt(document.documentElement,"click",m.htmlClickFn,!1)}},this.blurFn={handleEvent:function(){m.wrapper.classList.contains("dsq-touch")&&m.o.removeAttribute("readonly"),m.clearFocus()}},this.yrClickFn={handleEvent:function(t){if(!t.target.classList.contains(m.options.classPrefix+"disabled")){t.stopPropagation(),m.clearStored();for(var e=m.lists.years.querySelectorAll("li"),s=m.lists.months.querySelectorAll("li"),i=0;i<e.length;i++)e[i].classList.remove(m.options.classPrefix+"active");for(var a=0;a<s.length;a++)s[a].classList.remove(m.options.classPrefix+"active");t.target.classList.add(m.options.classPrefix+"active"),m.selectedYear=1*t.target.getAttribute("data-year"),m.o.value=m.selectedYear,m.lists.classList.contains(m.options.classPrefix+"month")&&!m.lists.classList.contains(m.options.classPrefix+"day")&&(m.lists.months.classList.add(m.options.classPrefix+"switch"),setTimeout(function(){m.lists.months.classList.remove(m.options.classPrefix+"switch")},300)),m.options.month?(m.lists.classList.add(m.options.classPrefix+"month"),m.checkMonths()):m.finishUp(),m.clearFocus(),t.target.blur()}}},this.mthClickFn={handleEvent:function(t){if(!t.target.classList.contains(m.options.classPrefix+"disabled")){t.stopPropagation(),m.clearStored();for(var e=m.lists.months.querySelectorAll("li"),s=0;s<e.length;s++)e[s].classList.remove(m.options.classPrefix+"active");t.target.classList.add(m.options.classPrefix+"active"),m.selectedMonth=1*t.target.getAttribute("data-month"),m.options.day?(m.o.value=m.options.monthList[m.selectedMonth]+" "+m.selectedYear,m.o.classList.remove(m.options.classPrefix+"active"),m.lists.classList.add(m.options.classPrefix+"day"),m.addDays()):m.finishUp(),m.clearFocus()}}},this.htmlClickFn={handleEvent:function(t){t.target.closest(".dsq")!==m.wrapper&&(m.rmEvt(window,"keydown",m.keydownFn,!1),m.clearFocus(),m.wrapper.classList.contains(m.options.classPrefix+"active")&&(m.removeActive(300),m.rmEvt(document.documentElement,"click",m.htmlClickFn,!1)))}},this.keydownFn={handleEvent:function(t){if("INPUT"!==document.activeElement.id){var e,s=void 0,i=void 0,a=0,n=void 0;m.lists.classList.contains(m.options.classPrefix+"day")?(n=2,s=(i=m.lists.days).querySelectorAll("li[data-day]:not(."+m.options.classPrefix+"disabled):not(."+m.options.classPrefix+"padding)"),m.lists.months.removeAttribute("aria-activedescendant"),m.lists.years.removeAttribute("aria-activedescendant")):m.lists.classList.contains(m.options.classPrefix+"month")?(n=1,s=(i=m.lists.months).querySelectorAll("li:not(."+m.options.classPrefix+"disabled)"),m.lists.days.removeAttribute("aria-activedescendant"),m.lists.years.removeAttribute("aria-activedescendant")):(n=0,s=(i=m.lists.years).querySelectorAll("li:not(."+m.options.classPrefix+"disabled)"),m.lists.days.removeAttribute("aria-activedescendant"),m.lists.months.removeAttribute("aria-activedescendant"));var o=m.findFocus(s);switch(e=o[0],a=o[1],t.which){case 40:if(t.preventDefault(),a!==s.length-1&&!e)if(2!==n)a++;else{for(var r=0,l=m.lists.days.querySelectorAll("li:not(."+m.options.classPrefix+"dow-header):not(."+m.options.classPrefix+"padding)"),h=l.length<a+7?l.length:a+7,d=a;d<h;d++)l[d].classList.contains(m.options.classPrefix+"disabled")&&r++;a=a+7-r<s.length-1?a+7-r:s.length-1}break;case 39:t.preventDefault(),a===s.length-1||e||2!==n||a++;break;case 38:if(t.preventDefault(),0!==a&&!e)if(2!==n)a--;else{for(var c=0,u=m.lists.days.querySelectorAll("li:not(."+m.options.classPrefix+"dow-header):not(."+m.options.classPrefix+"padding)"),p=a-7<0?0:a-7,f=a;p<f;f--)u[f].classList.contains(m.options.classPrefix+"disabled")&&c++;a=-1<a-7+c?a-7+c:0}break;case 37:if(t.preventDefault(),0===a||e||2!==n){if(!e&&1===n&&m.hasYear){m.goToYear();var y=m.lists.years.querySelector("."+m.options.classPrefix+"active");m.lists.years.setAttribute("aria-activedescendant",y.id),m.setFocus(y)}}else a--;break;case 13:t.preventDefault(),t.target.click(),m.clearFocus(),this.wrapper.classList.contains(this.options.classPrefix+"active")&&this.wrapper.classList.remove(this.options.classPrefix+"active"),m.options.parse.active&&m.setValue(m.o.value,m.options.parse.rule);break;case 9:this.wrapper.classList.contains(this.options.classPrefix+"active")&&this.wrapper.classList.remove(this.options.classPrefix+"active"),m.options.parse.active&&m.setValue(m.o.value,m.options.parse.rule)}37<=t.which&&t.which<=40&&(i.setAttribute("aria-activedescendant",s[a].id),m.setFocus(s[a]))}else 8===t.which&&m.clearStored()}};var u,p=(u=0,function(t,e){clearTimeout(u),u=setTimeout(t,e)});if(this.eventFn={handleEvent:function(t){p(function(){F.isValidDate(m.parseDateString(t.target.value,m.options.parse.rule))?m.setValue(t.target.value,m.options.parse.rule):(m.clearStored(),m.makeCallback())},m.options.parse.delay)}},this.hasYear)for(var f=0;f<d.length;f++)this.addEvt(d[f],"click",this.yrClickFn,!1);else d[0].classList.add(this.options.classPrefix+"noh");if(this.hasMonth)for(var y=0;y<c.length;y++)this.addEvt(c[y],"click",this.mthClickFn,!1);else c[0].classList.add(this.options.classPrefix+"noh");this.addEvt(this.o,"focus",this.focFn,!1),this.addEvt(this.o,"blur",this.blurFn,!1),!this.wrapper.classList.contains("dsq-touch")&&this.options.parse.active&&this.addEvt(this.o,this.options.parse.etype,this.eventFn,!1),!1!==this.options.initial&&this.finishUp(this.options.initial,this.options.parse.rule)}},{key:"findFocus",value:function(t){for(var e=0;e<t.length;e++)if(t[e]===document.activeElement)return[!1,e];return[!0,0]}},{key:"setFocus",value:function(t,e){this.clearFocus(),void 0!==t&&(t.parentElement.removeAttribute("aria-activedescendant"),t.focus(),t.classList.add(this.options.classPrefix+"focused"),t.parentElement.setAttribute("aria-activedescendant",t.id)),void 0!==e&&e.childNodes[0].focus()}},{key:"clearStored",value:function(){this.o.dataset.dsqDate="",this.setDate=void 0}},{key:"clearFocus",value:function(){for(var t=[this.lists.years,this.lists.months,this.lists.days],e=0;e<t.length;e++){t[e].removeAttribute("aria-activedescendant");for(var s=t[e].querySelectorAll("."+this.options.classPrefix+"focused"),i=0;i<s.length;i++)s[i].classList.remove(this.options.classPrefix+"focused"),s[i].blur()}}},{key:"removeActive",value:function(t){var e=this;this.wrapper.classList.add(this.options.classPrefix+"closing"),this.wrapper.classList.remove(this.options.classPrefix+"active"),setTimeout(function(){e.wrapper.classList.remove(e.options.classPrefix+"closing")},t)}},{key:"checkMonths",value:function(){if(this.lists.classList.contains(this.options.classPrefix+"month")&&!this.lists.classList.contains(this.options.classPrefix+"day")){for(var t=!1,e=0;e<12;e++){var s=F.daysInMonth(this.selectedYear,e);!F.isBetweenDates(new Date(this.selectedYear,e,1),this.options.start,this.options.end)&&!F.isBetweenDates(new Date(this.selectedYear,e,s),this.options.start,this.options.end)||!1!==this.disDates.months&&this.disDates.months.has(this.selectedYear+"/"+e)?(this.lists.querySelectorAll(".dsq-list-months li")[e].classList.add(this.options.classPrefix+"disabled"),this.lists.querySelectorAll(".dsq-list-months li")[e].setAttribute("tabindex","-1")):(this.lists.querySelectorAll(".dsq-list-months li")[e].classList.remove(this.options.classPrefix+"disabled"),this.lists.querySelectorAll(".dsq-list-months li")[e].setAttribute("tabindex","0"),!1===t&&(t=e*this.rowHeight))}this.lists.months.scrollTop=t}}},{key:"addDays",value:function(){var t,e=F.daysInMonth(this.selectedYear,this.selectedMonth),s=["sun","mon","tue","wed","thu","fri","sat"];this.reminder.innerHTML='<a class="'+this.options.classPrefix+'reminder-month">'+this.options.monthList[this.selectedMonth]+'</a>&nbsp;<a class="'+this.options.classPrefix+'reminder-year">'+this.selectedYear+"</a>",this.lists.days.innerHTML='<li class="'+this.options.classPrefix+'dow-header">Mon</li><li class="'+this.options.classPrefix+'dow-header">Tue</li><li class="'+this.options.classPrefix+'dow-header">Wed</li><li class="'+this.options.classPrefix+'dow-header">Thu</li><li class="'+this.options.classPrefix+'dow-header">Fri</li><li class="'+this.options.classPrefix+'dow-header">Sat</li><li class="'+this.options.classPrefix+'dow-header">Sun</li>',t=0===new Date(this.selectedYear,this.selectedMonth,1).getDay()?6:new Date(this.selectedYear,this.selectedMonth,1).getDay()-1;for(var i=0;i<t;i++)this.lists.days.insertAdjacentHTML("beforeend",'<li data-day class="'+this.options.classPrefix+'padding"></li>');for(var a=1;a<e+1;a++){var n=s[new Date(this.selectedYear,this.selectedMonth,a).getDay()];!F.isBetweenDates(new Date(this.selectedYear,this.selectedMonth,a),this.options.start,this.options.end)||!1!==this.disDates.days&&(this.disDates.days.has(this.selectedYear+"/"+this.selectedMonth+"/"+a)||this.disDates.recurringDays.has(n)||this.disDates.recurringDates.has(this.selectedYear+"/"+this.selectedMonth+"/"+a))?this.lists.days.insertAdjacentHTML("beforeend",'<li id="'+this.uid+"_d_"+a+'" class="'+this.options.classPrefix+'disabled" data-day="'+a+'" tabindex="-1" role="option">'+a+"</li>"):this.lists.days.insertAdjacentHTML("beforeend",'<li id="'+this.uid+"_d_"+a+'" data-day="'+a+'" tabindex="-1" role="option">'+a+"</li>"),F.isSameDay(new Date,new Date(this.selectedYear,this.selectedMonth,a))&&this.options.markToday&&this.lists.days.querySelector('li[data-day="'+a+'"]').classList.add(this.options.classPrefix+"today")}var o=this.lists.days.querySelectorAll("li[data-day]"),r=this;this.dayClickFn={handleEvent:function(t){t.stopPropagation(),t.target.classList.contains(r.options.classPrefix+"disabled")||(r.selectedDay=1*t.target.getAttribute("data-day"),r.finishUp(),r.setFocus(t.target))}},this.reminderFn={handleEvent:function(t){t.stopPropagation(),r.lists.classList.add(r.options.classPrefix+"out"),setTimeout(function(){r.lists.classList.remove(r.options.classPrefix+"out")},200),r.lists.classList.remove(r.options.classPrefix+"day")}};for(var l=0;l<o.length;l++)this.addEvt(o[l],"click",this.dayClickFn,!1);this.hasYear?this.addEvt(this.lists.querySelector(".dsq-reminder-year"),"click",this.reminderFn,!1):this.lists.querySelector(".dsq-reminder-year").classList.add(this.options.classPrefix+"noh"),this.hasMonth?this.addEvt(this.lists.querySelector(".dsq-reminder-month"),"click",this.reminderFn,!1):this.lists.querySelector(".dsq-reminder-month").classList.add(this.options.classPrefix+"noh")}},{key:"goToYear",value:function(){this.lists.classList.remove(this.options.classPrefix+"day"),this.lists.classList.remove(this.options.classPrefix+"month"),this.lists.months.removeAttribute("aria-activedescendant")}},{key:"finishUp",value:function(t,e){var s=this;if(void 0===t)void 0===this.selectedDay&&(this.selectedDay=1),void 0===this.selectedMonth&&(this.selectedMonth=1),this.setDate=new Date(this.selectedYear,this.selectedMonth,this.selectedDay);else{if(!F.isValidDate(this.parseDateString(t,e)))return!1;this.setDate=this.parseDateString(t,e),this.selectedYear=this.setDate.getFullYear(),this.selectedMonth=this.setDate.getMonth(),this.selectedDay=this.setDate.getDate()}this.setDate.save=F.format(this.setDate,this.options.patternSave),this.setDate.human=F.format(this.setDate,this.options.pattern),this.o.value=this.setDate.human,this.o.setAttribute("data-dsq-date",this.setDate.save),this.wrapper.classList.add(this.options.classPrefix+"done"),void 0===t?(this.removeActive(300),this.rmEvt(document.documentElement,"click",this.htmlClickFn,!1),setTimeout(function(){s.makeCallback(),s.wrapper.classList.remove(s.options.classPrefix+"done"),s.lists.classList.remove(s.options.classPrefix+"day",s.options.classPrefix+"month")},300)):(this.wrapper.classList.contains(this.options.classPrefix+"active")&&this.wrapper.classList.remove(this.options.classPrefix+"active"),this.makeCallback())}},{key:"makeCallback",value:function(){var t={date:this.setDate?this.setDate:void 0,input:this.o,wrapper:this.wrapper,human:this.setDate?this.setDate.human:void 0,save:this.setDate?this.setDate.save:void 0};this.options.callback.call(t),"function"==typeof this.options.callback||console.error("dateSquirrel: Supplied callback is not a function")}},{key:"removeData",value:function(t){for(;t.firstChild;)t.removeChild(t.firstChild)}},{key:"addEvt",value:function(e,s,i,a){if("addEventListener"in e)try{e.addEventListener(s,i,a)}catch(t){if("object"!==(void 0===i?"undefined":v(i))||!i.handleEvent)throw t;e.addEventListener(s,function(t){i.handleEvent.call(i,t)},a)}else"attachEvent"in e&&("object"===(void 0===i?"undefined":v(i))&&i.handleEvent?e.attachEvent("on"+s,function(){i.handleEvent.call(i)}):e.attachEvent("on"+s,i))}},{key:"rmEvt",value:function(e,s,i,a){if("removeEventListener"in e)try{e.removeEventListener(s,i,a)}catch(t){if("object"!==(void 0===i?"undefined":v(i))||!i.handleEvent)throw t;e.removeEventListener(s,function(t){i.handleEvent.call(i,t)},a)}else"detachEvent"in e&&("object"===(void 0===i?"undefined":v(i))&&i.handleEvent?e.detachEvent("on"+s,function(){i.handleEvent.call(i)}):e.detachEvent("on"+s,i))}},{key:"wrap",value:function(){this.lists=document.createElement("div"),this.lists.className=this.options.classPrefix+"lists",this.reminder=this.lists.querySelector("."+this.options.classPrefix+"reminder"),this.lists.dayWrap=this.lists.querySelector("."+this.options.classPrefix+"days"),this.lists.days=this.lists.querySelector("."+this.options.classPrefix+"days ."+this.options.classPrefix+"list-days"),this.lists.dayWrap=document.createElement("div"),this.lists.dayWrap.className=this.options.classPrefix+"days",this.lists.days=document.createElement("ul"),this.lists.days.className=this.options.classPrefix+"list-days",this.lists.days.role="listbox",this.lists.daySide=document.createElement("span"),this.lists.daySide.className=this.options.classPrefix+"side",this.reminder=document.createElement("p"),this.reminder.className=this.options.classPrefix+"reminder",this.lists.months=document.createElement("ul"),this.lists.months.className=this.options.classPrefix+"list-months",this.lists.months.role="listbox",this.lists.years=document.createElement("ul"),this.lists.years.className=this.options.classPrefix+"list-years",this.lists.years.role="listbox",this.wrapper=document.createElement("div"),this.wrapper.className="dsq",this.wrapper.id=this.uid,this.o.parentNode.insertBefore(this.wrapper,this.o.nextSibling),this.lists.daySide.appendChild(this.reminder),this.lists.dayWrap.appendChild(this.lists.daySide),this.lists.dayWrap.appendChild(this.lists.days),this.lists.appendChild(this.lists.years),this.lists.appendChild(this.lists.months),this.lists.appendChild(this.lists.dayWrap),this.wrapper.appendChild(this.o),this.wrapper.appendChild(this.lists)}},{key:"unwrap",value:function(){this.lists.remove(),this.wrapper.parentNode.insertBefore(this.o,this.wrapper),this.wrapper.remove()}},{key:"extend",value:function(){var s={},i=!1,t=0,e=arguments.length;"[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(i=arguments[0],t++);for(var a=function(t){for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(i&&"[object Object]"===Object.prototype.toString.call(t[e])?s[e]=this.extend(!0,s[e],t[e]):s[e]=t[e])};t<e;t++)a(arguments[t]);return s}},{key:"isFunction",value:function(t){return!!(t&&t.constructor&&t.call&&t.apply)}},{key:"processUd",value:function(t){if(this.isFunction(t))t=t();else if(!(t instanceof Date)){12<=t.m&&(t.m=11);var e=F.daysInMonth(t.y,t.m);e<t.d&&(t.d=e),t=new Date(t.y,t.m,t.d)}return t.y=t.getFullYear(),t.m=t.getMonth(),t.d=t.getDate(),t}},{key:"uniqBy",value:function(t,s){var i=new Set;return t.filter(function(t){var e=s(t);return!i.has(e)&&i.add(e)})}},{key:"tagDisabled",value:function(t,e){var s=new Date(t),i=new Date(e),a=F.countMonths(s,i,!0),n=[],o=new Date(s.getFullYear()+1,11,31);if(1===s.getDate()&&0===s.getMonth()&&11<a?n.years=[s.getFullYear()]:o.getTime()<=i.getTime()?n.years=[s.getFullYear()+1]:n.years=!1,1<=a/24)for(var r=0;r<=F.countMonths(new Date(n.years[0],11,31),i,!0)/12-1;r++)n.years.push(n.years[r]+1);1<=a?n.years[0]!==s.getFullYear()?1===s.getDate()?n.months=[s.getFullYear()+"/"+s.getMonth()]:s.getMonth()+1<=11&&new Date(s.getFullYear(),s.getMonth()+1,31).getTime()<=i.getTime()?n.months=[s.getFullYear()+"/"+(s.getMonth()+1)]:!1===n.years&&new Date(s.getFullYear()+1,0,31).getTime()<=i.getTime()?n.months=[s.getFullYear()+1+"/0"]:!1!==n.years&&new Date(n.years[n.years.length-1]+1,0,31).getTime()<=i.getTime()?n.months=[n.years[n.years.length-1]+1+"/0"]:n.months=!1:new Date(n.years[n.years.length-1]+1,0,31).getTime()<=i.getTime()?n.months=[n.years[n.years.length-1]+1+"/0"]:n.months=!1:n.months=!1;var l=F.countMonths(s,new Date(n.years[0],0,1),!0),h=F.countMonths(new Date(n.years[n.years.length-1]+1,0,1),i,!0);if(2<=l)for(var d=1;d<l;d++)n.months.push(s.getFullYear()+"/"+(1*n.months[d-1].split("/")[1]+1));if(1<=h){var c=0;for(0===l&&c++;c<h;c++)n.months.push(n.years[n.years.length-1]+1+"/"+c)}if(-1===l&&-1===h&&n.months[0])for(var u=1*n.months[0].split("/")[0],p=void 0,f=1;f<a-1;f++)11==(p=1*n.months[f-1].split("/")[1])&&(p=0,u++),n.months.push(u+"/"+(p+1)),11===p?(p=0,u++):p++;if(!(n.days=[])===n.years&&!1===n.months){var y;y=s.getMonth()!==i.getMonth()?i.getDate()+1+F.daysInMonth(s.getFullYear(),s.getMonth()):i.getDate()+1;for(var m=s.getDate();m<y;m++)m>=F.daysInMonth(s.getFullYear(),s.getMonth())+1?n.days.push(s.getFullYear()+"/"+i.getMonth()+"/"+(m-F.daysInMonth(s.getFullYear(),s.getMonth()))):n.days.push(s.getFullYear()+"/"+s.getMonth()+"/"+m)}else if(!1===n.years&&!1!==n.months){if(s.getMonth()<n.months[0].split("/")[1])for(var v=s.getDate();v<F.daysInMonth(s.getFullYear(),1*n.months[0].split("/")[1]-1)+1;v++)n.days.push(s.getFullYear()+"/"+s.getMonth()+"/"+v);if(new Date(i.getFullYear(),1*n.months[n.months.length-1].split("/")[1]+1).getTime()<i.getTime())for(var g=1;g<i.getDate()+1;g++)n.days.push(i.getFullYear()+"/"+i.getMonth()+"/"+g)}else if(!1!==n.years&&!1===n.months){if(s.getFullYear()<n.years[0])for(var D=s.getDate();D<F.daysInMonth(s.getFullYear(),s.getMonth())+1;D++)n.days.push(s.getFullYear()+"/"+s.getMonth()+"/"+D);if(new Date(n.years[n.years.length-1]+1,s.getMonth()).getTime()<i.getTime())for(var b=1;b<i.getDate()+1;b++)n.days.push(i.getFullYear()+"/"+i.getMonth()+"/"+b)}else{var w=new Date(n.years[0],0,1).getTime(),x=new Date(n.months[0].split("/")[0],n.months[0].split("/")[1]).getTime();if(s.getTime()<w&&w<x||s.getTime()<x&&x<w)for(var M=s.getDate();M<F.daysInMonth(s.getFullYear(),s.getMonth())+1;M++)n.days.push(s.getFullYear()+"/"+s.getMonth()+"/"+M);else for(var P=1;P<i.getDate()+1;P++)n.days.push(i.getFullYear()+"/"+i.getMonth()+"/"+P)}return 0===n.days.length&&(n.days=!1),this.disArray=n}},{key:"getValue",value:function(t){return void 0===t||void 0===this.setDate?this.setDate:F.format(this.setDate,t)}},{key:"setValue",value:function(t,e){return void 0!==t&&(this.finishUp(t,e),!0)}},{key:"parseDateString",value:function(t,e){var s=!1,i=!1,a=null,n=null,o=null,r=null,l=null,h=null,d=t.replace(/,/g,"").replace(/\(/g,"").replace(/\)/g,"").replace(/\[/g,"").replace(/\]/g,""),c=this.options.pattern.replace(/,/g,"").replace(/\(/g,"").replace(/\)/g,"").replace(/\[/g,"").replace(/\]/g,"");if([" ",".","/","-",":",";"].forEach(function(t){0<d.indexOf(t)&&(" "===t&&(d=d.replace(/  /g," ")),s=t),0<c.indexOf(t)&&(" "===t&&(c=c.replace(/  /g," ")),i=t)}),s){var u=d.split(s),p=c.split(i);if(u.some(function(t,e){return-1<["sun","mon","tue","wed","thu","fri","sat"].indexOf(t.substring(0,3).toLowerCase())&&u.splice(u[e],1),-1<["sun","mon","tue","wed","thu","fri","sat"].indexOf(t.substring(0,3).toLowerCase())}),u.length<3){if(u.length!==p.length)return!1;p.forEach(function(t,e){-1<t.indexOf("w")?p.splice(p[e],1):-1<p[e].indexOf("d")?l=u[e]:-1<p[e].indexOf("m")?r=u[e]:-1<p[e].indexOf("y")&&(h=u[e])})}else{if(3!==u.length)return!1;void 0!==e?"y"===e[0]?(h=u[0],"m"===e[1]?(r=u[1],l=u[2]):(r=u[2],l=u[1])):"m"===e[0]?(r=u[0],"y"===e[1]?(h=u[1],l=u[2]):(h=u[2],l=u[1])):(l=u[0],"y"===e[1]?(h=u[1],r=u[2]):(h=u[2],r=u[1])):(h=u[2],r=u[1],l=u[0])}a=r?isNaN(1*r)?this.options.monthList.indexOf(r.substring(0,3).charAt(0).toUpperCase()+r.substring(0,3).slice(1)):r-1:0,n=l?isNaN(1*l)?l.replace(/\D/g,""):l:1,o=h?4===h.length?h:3===h.length?h.replace(/\D/g,""):1*h>(new Date).getFullYear().toString().slice(-2)?"19"+h:"20"+h:(new Date).getFullYear();var f=new Date(o,a,n);return!!F.isValidDate(f)&&new Date(o,a,n)}return!1}}],[{key:"touchSet",value:function(){document.querySelectorAll(".dsq").forEach(function(t){t.classList.add("dsq-touch")})}},{key:"isValidDate",value:function(t){return t instanceof Date&&!isNaN(t)}},{key:"countMonths",value:function(t,e,s){var i=new Date(t),a=new Date(t),n=new Date(e),o=0;for(s&&(1!==a.getDate()&&0!==a.getMonth()&&a.setFullYear(a.getFullYear(),a.getMonth()+1,1),n.getDate()===F.daysInMonth(n.getFullYear(),n.getMonth())?n.setFullYear(n.getFullYear(),n.getMonth()+1,1):n.setFullYear(n.getFullYear(),n.getMonth(),1)),i=a;i.getTime()<=n.getTime();)i.setMonth(i.getMonth()+1),o+=1;return i!==n&&(o-=1),o}},{key:"isBetweenDates",value:function(t,e,s){var i=new Date(s.getFullYear(),s.getMonth(),s.getDate(),23,59,59,999),a=new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,0,0,0);return t.getTime()<=i.getTime()&&t.getTime()>=a.getTime()}},{key:"isSameDay",value:function(t,e){return t.getFullYear()===e.getFullYear()&&t.getMonth()===e.getMonth()&&t.getDate()===e.getDate()}},{key:"daysInMonth",value:function(t,e){return[31,t%4!=0||t%100==0&&t%400!=0?28:29,31,30,31,30,31,31,30,31,30,31][e]}},{key:"dayOfYear",value:function(t){var e=t.getFullYear(),s=t.getMonth();return 31*s-(1<s?(1054267675>>3*s-6&7)-(3&e||!(e%25)&&15&e?0:1):0)+t.getDate()}},{key:"treatAsUTC",value:function(t){var e=new Date(t);return e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e}},{key:"daysBetween",value:function(t,e){return(F.treatAsUTC(e)-F.treatAsUTC(t))/864e5}},{key:"format",value:function(t,e){e=e||"yyyy-mm-dd";var s=function(t,e){for(t=t.toString(),e=e||2;t.length<e;)t="0"+t;return t},i=function(t){var e=t%10,s=t%100;return 1==e&&11!=s?t+"st":2==e&&12!=s?t+"nd":3==e&&13!=s?t+"rd":t+"th"},a={yyyy:t.getFullYear(),yy:t.getFullYear().toString().slice(2),mmmm:t.toLocaleString("en-gb",{month:"long"}),mmm:t.toLocaleString("en-gb",{month:"short"}),mm:s(t.getMonth()+1),mx:i(t.getMonth()+1),m:t.getMonth()+1,wwww:t.toLocaleString("en-gb",{weekday:"long"}),www:t.toLocaleString("en-gb",{weekday:"short"}),ww:t.toLocaleString("en-gb",{weekday:"short"}).slice(0,2),w:t.getDay(),dddd:s(F.dayOfYear(t),3),dddx:i(F.dayOfYear(t)),ddd:F.dayOfYear(t),dd:s(t.getDate()),dx:i(t.getDate()),d:t.getDate()},n="("+Object.keys(a).join(")|(")+")";return e.replace(new RegExp(n,"g"),function(t){return a[t]})}}]),F}();e.default=o},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={start:new Date,end:{d:(new Date).getDate(),m:(new Date).getMonth(),y:(new Date).getFullYear()+10},initial:!1,pattern:"dx mmm yyyy",patternSave:"yyyy-mm-dd",day:!0,month:!0,disableDates:!1,markToday:!0,classPrefix:"dsq-",hideScrollbars:!1,activation:function(){return!0},callback:function(){},parse:{active:!0,delay:100,etype:"change",rule:"dmy"},overlay:!1,monthList:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]};e.default=i}])});