(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory();
	else if(typeof define === 'function' && define.amd)
		define([], factory);
	else if(typeof exports === 'object')
		exports["dsq"] = factory();
	else
		root["dsq"] = factory();
})(window, function() {
return /******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./src/plugin/dsq.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./src/plugin/dsq.js":
/*!***************************!*\
  !*** ./src/plugin/dsq.js ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\n// --------------------------------------------------------\n// dateSquirrel (dsq) \n// A date picker with a nutty tang\n// https://github.com/tymothytym/dateSquirrel\n// License MIT\n// (c) Tim O'Donoghue 2017\n// --------------------------------------------------------\n\n// --------------------------------------------------------\n// Imports\n// --------------------------------------------------------\nmodule.exports = __webpack_require__(/*! ./part/core.js */ \"./src/plugin/part/core.js\").default;\n//import dsq from './part/methods';\n//import dsqCore, * as dsq from './part/core';\n\n//export default dsq;\n/*\r\nif (typeof document !== \"undefined\") {\r\n   expose the class to window \r\n  window.dsq = dsq;\r\n}*/\n\n//# sourceURL=webpack://dsq/./src/plugin/dsq.js?");

/***/ }),

/***/ "./src/plugin/part/core.js":
/*!*********************************!*\
  !*** ./src/plugin/part/core.js ***!
  \*********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\n// --------------------------------------------------------\n// dateSquirrel (dsq) \n// A date picker with a nutty tang\n// https://github.com/tymothytym/dateSquirrel\n// License MIT\n// (c) tymothytym 2019\n// --------------------------------------------------------\n\n// --------------------------------------------------------\n// Imports\n// --------------------------------------------------------\n\n// default settings\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _settings = __webpack_require__(/*! ./settings.js */ \"./src/plugin/part/settings.js\");\n\nvar _settings2 = _interopRequireDefault(_settings);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n// --------------------------------------------------------\n// dateSquirrel Class\n// --------------------------------------------------------\n\nvar dsq = function () {\n\t// create instance\n\tfunction dsq(identifier, options) {\n\t\t_classCallCheck(this, dsq);\n\n\t\t// check identifier exists\n\t\tif (!identifier.nodeName) {\n\t\t\tthis.o = document.querySelector(identifier);\n\t\t\tif (identifier == null) {\n\t\t\t\tthrow 'dateSquirrel was unable to find the element(s)!';\n\t\t\t}\n\t\t} else {\n\t\t\tthis.o = identifier;\n\t\t}\n\n\t\t// check dsq is on an <input>\n\t\tif (this.o.nodeName !== \"INPUT\") {\n\t\t\tthrow 'dateSquirrel only works on <input>';\n\t\t}\n\n\t\t// polyfill for Element.closest --> https://developer.mozilla.org/en-US/docs/Web/API/Element/closest#Polyfill\n\t\tif (!Element.prototype.matches) {\n\t\t\tElement.prototype.matches = Element.prototype.msMatchesSelector || Element.prototype.webkitMatchesSelector;\n\t\t}\n\t\tif (!Element.prototype.closest) {\n\t\t\tElement.prototype.closest = function (s) {\n\t\t\t\tvar el = this;\n\t\t\t\tif (!document.documentElement.contains(el)) return null;\n\t\t\t\tdo {\n\t\t\t\t\tif (el.matches(s)) return el;\n\t\t\t\t\tel = el.parentElement || el.parentNode;\n\t\t\t\t} while (el !== null && el.nodeType === 1);\n\t\t\t\treturn null;\n\t\t\t};\n\t\t}\n\t\t// IE polyfill - for childNode.remove()\n\t\t// https://developer.mozilla.org/en-US/docs/Web/API/ChildNode/remove#Polyfill\n\t\t// from:https://github.com/jserz/js_piece/blob/master/DOM/ChildNode/remove()/remove().md\n\t\t(function (arr) {\n\t\t\tarr.forEach(function (item) {\n\t\t\t\tif (item.hasOwnProperty('remove')) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tObject.defineProperty(item, 'remove', {\n\t\t\t\t\tconfigurable: true,\n\t\t\t\t\tenumerable: true,\n\t\t\t\t\twritable: true,\n\t\t\t\t\tvalue: function remove() {\n\t\t\t\t\t\tif (this.parentNode !== null) this.parentNode.removeChild(this);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t})([Element.prototype, CharacterData.prototype, DocumentType.prototype]);\n\n\t\t// check to see if there is a max or min on the input\n\t\tif (this.o.hasAttribute('min')) {\n\t\t\tvar min = this.o.getAttribute('min').split('-');\n\t\t\t_settings2.default.start = new Date(min[0], min[1] * 1 - 1, min[2]);\n\t\t}\n\t\tif (this.o.hasAttribute('max')) {\n\t\t\tvar max = this.o.getAttribute('max').split('-');\n\t\t\t_settings2.default.end = new Date(max[0], max[1] * 1 - 1, max[2]);\n\t\t}\n\n\t\t// check for touch\n\t\tthis.touch = false;\n\t\twindow.addEventListener('touchstart', function onFirstTouch() {\n\t\t\tdsq.touchSet();\n\t\t\twindow.removeEventListener('touchstart', onFirstTouch, false);\n\t\t}, false);\n\n\t\t// merge options & defaults\n\t\tthis.options = this.extend(_settings2.default, options || {});\n\n\t\t// create a new dateSquirrel instance\n\t\tthis.uid = '_dsq__' + this.o.id;\n\n\t\t// check browser feature compatibility <-- Doesn't work in IE11?!\n\t\t//const features = 'querySelector' in document && 'addEventListener' in window && 'classList' in window.Element.prototype;\n\n\t\t// check activation criteria\n\t\tif (!('querySelector' in document)) {\n\t\t\t// stupid\n\t\t\tif (!('addEventListener' in window)) {\n\t\t\t\t// IE 11\n\t\t\t\tif (!('classList' in window)) {\n\t\t\t\t\t// bugs\n\t\t\t\t\tthrow 'Browser doesn\\'t meet the minimum dateSquirrel activation requirements';\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (!this.options.activation.call(this)) {\n\t\t\treturn;\n\t\t} else {\n\t\t\t// start\n\t\t\tthis.init();\n\t\t}\n\t}\n\t// initialise instance\n\n\n\t_createClass(dsq, [{\n\t\tkey: 'init',\n\t\tvalue: function init() {\n\t\t\tvar instanceId = '#' + this.uid;\n\n\t\t\t// process options\n\t\t\tthis.options.start = this.processUd(this.options.start);\n\t\t\tthis.options.end = this.processUd(this.options.end);\n\n\t\t\t// add lists & sizes\n\t\t\tthis.rowHeight = 40;\n\t\t\tthis.listHeight = 6 * this.rowHeight + this.rowHeight / 2;\n\n\t\t\t// wrap input field\n\t\t\tthis.wrap();\n\n\t\t\t// change to text field\n\t\t\tthis.o.setAttribute('type', 'text');\n\n\t\t\t// scrollbar hide class\n\t\t\tif (this.options.hideScrollbars) {\n\t\t\t\tthis.wrapper.classList.add(this.options.classPrefix + 'noscrl');\n\t\t\t}\n\n\t\t\t// specify activation\n\t\t\tthis.isActive = true;\n\n\t\t\t// add lists\n\t\t\tthis.makeLists();\n\t\t}\n\t\t// remove instance\n\n\t}, {\n\t\tkey: 'destroy',\n\t\tvalue: function destroy() {\n\t\t\t// remove event listeners\n\t\t\tif (this.isActive) {\n\t\t\t\tvar yearRows = this.lists.years.querySelectorAll('li') || false,\n\t\t\t\t    monthRows = this.lists.months.querySelectorAll('li') || false,\n\t\t\t\t    activeDays = this.lists.querySelectorAll('.dsq-list-days > li[data-day]') || false;\n\t\t\t\tif (!activeDays) {\n\t\t\t\t\t// reminders\n\t\t\t\t\tthis.rmEvt(this.lists.querySelector('.dsq-reminder-month'), 'click', this.reminderFn, false);\n\t\t\t\t\tthis.rmEvt(this.lists.querySelector('.dsq-reminder-year'), 'click', this.reminderFn, false);\n\t\t\t\t\t// days\n\t\t\t\t\tfor (var i = 0; i < activeDays.length; i++) {\n\t\t\t\t\t\tthis.rmEvt(activeDays[i], 'click', this.dayClickFn, false);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (!monthRows) {\n\t\t\t\t\tfor (var _i = 0; _i < monthRows.length; _i++) {\n\t\t\t\t\t\tthis.rmEvt(monthRows[_i], 'click', this.mthClickFn, false);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (!yearRows) {\n\t\t\t\t\tfor (var _i2 = 0; _i2 < yearRows.length; _i2++) {\n\t\t\t\t\t\tthis.rmEvt(yearRows[_i2], 'click', this.yrClickFn, false);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t// input\n\t\t\t\tthis.rmEvt(this.o, 'blur', this.blurFn, false);\n\t\t\t\tthis.rmEvt(this.o, 'focus', this.focFn, false);\n\t\t\t\tthis.rmEvt(this.o, this.options.parse.etype, this.eventFn, false);\n\n\t\t\t\t// html\n\t\t\t\tthis.rmEvt(document.documentElement, 'click', this.htmlClickFn, false);\n\n\t\t\t\t// dataset\n\t\t\t\tthis.o.removeAttribute('data-dsq-date');\n\n\t\t\t\t// reset to date\n\t\t\t\tthis.o.setAttribute('type', 'date');\n\n\t\t\t\t// remove dsq wrapper\n\t\t\t\tthis.unwrap();\n\n\t\t\t\t// remove data\n\t\t\t\tthis.removeData(this);\n\n\t\t\t\t// delete callback & options\n\t\t\t\tdelete this.options.callback;\n\t\t\t\tdelete this.options;\n\t\t\t}\n\t\t}\n\t\t// construction functions\n\n\t}, {\n\t\tkey: 'makeLists',\n\t\tvalue: function makeLists() {\n\t\t\t// same year?\n\t\t\tif (this.options.end.y === this.options.start.y) {\n\t\t\t\tthis.hasYear = false;\n\t\t\t\tthis.selectedYear = this.options.start.y;\n\t\t\t\t// same month?\n\t\t\t\tif (this.options.end.m === this.options.start.m && this.options.end.y === this.options.start.y) {\n\t\t\t\t\tthis.hasMonth = false;\n\t\t\t\t\tthis.selectedMonth = this.options.start.m;\n\t\t\t\t} else {\n\t\t\t\t\tthis.hasMonth = true;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.hasYear = true;\n\t\t\t\tthis.hasMonth = true;\n\t\t\t\tthis.selectedYear = false;\n\t\t\t\tthis.selectedMonth = false;\n\t\t\t}\n\t\t\t// empty previous lists\n\t\t\tthis.lists.querySelector('.dsq-list-years').innerHTML = '';\n\t\t\tthis.lists.querySelector('.dsq-list-months').innerHTML = '';\n\n\t\t\t// check disabled dates\n\t\t\tthis.disDates = [];\n\t\t\tif (this.options.disabledDates) {\n\t\t\t\tthis.disDates.days = [];\n\t\t\t\tthis.disDates.months = [];\n\t\t\t\tthis.disDates.years = [];\n\t\t\t\tthis.disDates.recurringDays = [];\n\t\t\t\tthis.disDates.recurringDates = [];\n\t\t\t\tfor (var item in this.options.disabledDates) {\n\t\t\t\t\tif (typeof this.options.disabledDates[item] === 'string') {\n\t\t\t\t\t\tif (/^\\w{3}$/.test(this.options.disabledDates[item])) {\n\t\t\t\t\t\t\t// recurring days\n\t\t\t\t\t\t\tthis.disDates.recurringDays.push(this.options.disabledDates[item].toLowerCase());\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// recurring dates\n\t\t\t\t\t\t\tthis.disDates.recurringDates.push(this.options.disabledDates[item]);\n\t\t\t\t\t\t\tfor (var x = this.options.start.getFullYear(); x < this.options.end.getFullYear(); x++) {\n\t\t\t\t\t\t\t\tthis.disDates.days.push(x + '/' + this.options.disabledDates[item]);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t// add day in last year if needed\n\t\t\t\t\t\t\tif (this.options.end.getTime() >= new Date(this.options.end.getFullYear() + '/' + this.options.disabledDates[item]).getTime()) {\n\t\t\t\t\t\t\t\tthis.disDates.days.push(this.options.end.getFullYear() + '/' + this.options.disabledDates[item]);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (this.options.disabledDates[item] instanceof Date) {\n\t\t\t\t\t\t// range of dates\n\t\t\t\t\t\tthis.disDates.days.push(this.options.disabledDates[item].getFullYear() + '/' + this.options.disabledDates[item].getMonth() + '/' + this.options.disabledDates[item].getDate());\n\t\t\t\t\t} else if (_typeof(this.options.disabledDates[item]) === 'object') {\n\t\t\t\t\t\tvar _disDates$days, _disDates$months, _disDates$years;\n\n\t\t\t\t\t\t// range of dates\n\t\t\t\t\t\tvar range = this.tagDisabled(this.options.disabledDates[item][0], this.options.disabledDates[item][1]);\n\t\t\t\t\t\t(_disDates$days = this.disDates.days).push.apply(_disDates$days, _toConsumableArray(range.days));\n\t\t\t\t\t\t(_disDates$months = this.disDates.months).push.apply(_disDates$months, _toConsumableArray(range.months));\n\t\t\t\t\t\t(_disDates$years = this.disDates.years).push.apply(_disDates$years, _toConsumableArray(range.years));\n\t\t\t\t\t} else if (typeof this.options.disabledDates[item] === 'number') {\n\t\t\t\t\t\t// range of dates\n\t\t\t\t\t\tif (this.options.disabledDates[item].toString().length > 2) {\n\t\t\t\t\t\t\t// year\n\t\t\t\t\t\t\tthis.disDates.years.push(this.options.disabledDates[item]);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// month\n\t\t\t\t\t\t\tfor (var _x = this.options.start.getFullYear(); _x < this.options.end.getFullYear(); _x++) {\n\t\t\t\t\t\t\t\tthis.disDates.months.push(_x + '/' + this.options.disabledDates[item]);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t// add month in last year if needed\n\t\t\t\t\t\t\tif (this.options.end.getTime() >= new Date(this.options.end.getFullYear(), this.options.disabledDates[item], 1).getTime()) {\n\t\t\t\t\t\t\t\tthis.disDates.months.push(this.options.end.getFullYear() + '/' + this.options.disabledDates[item]);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// not accepted input\n\t\t\t\t\t\t/* eslint-disable no-console */\n\t\t\t\t\t\tconsole.error('Format \"' + this.options.disabledDates[item] + '\" in dsq.options.disabledDates not recognised');\n\t\t\t\t\t\t/* eslint-enable no-console */\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t// convert arrays to sets of unique entries\n\t\t\t\tthis.disDates.days = new Set(this.uniqBy(this.disDates.days, JSON.stringify));\n\t\t\t\tthis.disDates.months = new Set(this.uniqBy(this.disDates.months, JSON.stringify));\n\t\t\t\tthis.disDates.years = new Set(this.uniqBy(this.disDates.years, JSON.stringify));\n\t\t\t\tthis.disDates.recurringDays = new Set(this.uniqBy(this.disDates.recurringDays, JSON.stringify));\n\t\t\t\tthis.disDates.recurringDates = new Set(this.uniqBy(this.disDates.recurringDates, JSON.stringify));\n\t\t\t\tconsole.log('this.disDates.years: ', this.disDates.years);\n\t\t\t} else {\n\t\t\t\tthis.disDates.days = false;\n\t\t\t\tthis.disDates.months = false;\n\t\t\t\tthis.disDates.years = false;\n\t\t\t\tthis.disDates.recurringDays = false;\n\t\t\t\tthis.disDates.recurringDates = false;\n\t\t\t}\n\t\t\t// generate month & year lists\n\t\t\tif (this.hasYear) {\n\t\t\t\tfor (var y = this.options.start.y; y < this.options.end.y + 1; y++) {\n\t\t\t\t\tvar cl = document.createElement('li');\n\t\t\t\t\tif (this.disDates.years !== false && this.disDates.years.has(y)) {\n\t\t\t\t\t\tcl.className = this.options.classPrefix + 'disabled';\n\t\t\t\t\t}\n\t\t\t\t\tcl.id = this.uid + '_y_' + y;\n\t\t\t\t\tcl.dataset.year = y;\n\t\t\t\t\tcl.tabIndex = -1;\n\t\t\t\t\tcl.setAttribute('role', 'option');\n\t\t\t\t\tcl.innerHTML = '' + y;\n\t\t\t\t\tthis.lists.years.insertBefore(cl, this.lists.years.firstChild);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.lists.years.insertAdjacentHTML('afterbegin', '<li id=\"' + this.uid + '_y_0\" class=\"' + this.options.classPrefix + 'active\" data-year=\"' + this.options.start.y + '\" tabindex=\"-1\" role=\"option\">' + this.options.start.y + '</li>');\n\t\t\t}\n\t\t\tif (this.hasMonth) {\n\t\t\t\tfor (var m = 0; m < 12; m++) {\n\t\t\t\t\tthis.lists.months.insertAdjacentHTML('beforeend', '<li id=\"' + this.uid + '_m_' + m + '\" data-month=\"' + m + '\" tabindex=\"-1\" role=\"option\">' + this.options.monthList[m] + '</li>');\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.lists.months.insertAdjacentHTML('beforeend', '<li id=\"' + this.uid + '_m_0\" class=\"' + this.options.classPrefix + 'active\" data-month=\"' + dsq.format(this.options.start, 'mmm') + '\" tabindex=\"-1\" role=\"option\">' + dsq.format(this.options.start, 'mmm') + '</li>');\n\t\t\t\t// generate days early\n\t\t\t\tthis.addDays();\n\t\t\t}\n\n\t\t\t// check for overlay request\n\t\t\tif (this.options.overlay) {\n\t\t\t\tthis.lists.classList.add(this.options.classPrefix + 'overlay');\n\t\t\t}\n\n\t\t\t// add listeners\n\t\t\tvar yearRows = this.lists.years.querySelectorAll('li'),\n\t\t\t    monthRows = this.lists.months.querySelectorAll('li'),\n\t\t\t    that = this;\n\t\t\tthis.focFn = {\n\t\t\t\thandleEvent: function handleEvent() {\n\t\t\t\t\t//suppress mobile keyboard\n\t\t\t\t\tif (that.wrapper.classList.contains('dsq-touch')) {\n\t\t\t\t\t\tthat.o.setAttribute('readonly', 'readonly');\n\t\t\t\t\t}\n\n\t\t\t\t\t// if not open... open!\n\t\t\t\t\tif (!that.wrapper.classList.contains(that.options.classPrefix + 'active')) {\n\t\t\t\t\t\tthat.wrapper.classList.add(that.options.classPrefix + 'active');\n\t\t\t\t\t\tif (!that.hasYear && that.hasMonth) {\n\t\t\t\t\t\t\tthat.lists.classList.add(that.options.classPrefix + 'month');\n\t\t\t\t\t\t\t// check months\n\t\t\t\t\t\t\tif (monthRows.length === 12 && yearRows.length === 1) {\n\t\t\t\t\t\t\t\tthat.checkMonths();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else if (!that.hasYear && !that.hasMonth) {\n\t\t\t\t\t\t\tthat.lists.classList.add(that.options.classPrefix + 'month', that.options.classPrefix + 'day');\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// add window event to watch hardware keyboard\n\t\t\t\t\tthat.addEvt(window, 'keydown', that.keydownFn, false);\n\t\t\t\t\t// ...and to shut\n\t\t\t\t\tthat.addEvt(document.documentElement, 'click', that.htmlClickFn, false);\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.blurFn = {\n\t\t\t\thandleEvent: function handleEvent() {\n\t\t\t\t\t// un-suppress mobile keyboard\n\t\t\t\t\tif (that.wrapper.classList.contains('dsq-touch')) {\n\t\t\t\t\t\tthat.o.removeAttribute('readonly');\n\t\t\t\t\t}\n\t\t\t\t\tthat.clearFocus();\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.yrClickFn = {\n\t\t\t\thandleEvent: function handleEvent(e) {\n\n\t\t\t\t\tif (!e.target.classList.contains(that.options.classPrefix + 'disabled')) {\n\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\t// clear saved date as must be starting again\n\t\t\t\t\t\tthat.clearStored();\n\t\t\t\t\t\t// remove previous selection indicator\n\t\t\t\t\t\tvar _yearRows = that.lists.years.querySelectorAll('li'),\n\t\t\t\t\t\t    _monthRows = that.lists.months.querySelectorAll('li');\n\t\t\t\t\t\tfor (var i = 0; i < _yearRows.length; i++) {\n\t\t\t\t\t\t\t_yearRows[i].classList.remove(that.options.classPrefix + 'active');\n\t\t\t\t\t\t}\n\t\t\t\t\t\tfor (var j = 0; j < _monthRows.length; j++) {\n\t\t\t\t\t\t\t_monthRows[j].classList.remove(that.options.classPrefix + 'active');\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// make e.target active\n\t\t\t\t\t\te.target.classList.add(that.options.classPrefix + 'active');\n\t\t\t\t\t\tthat.selectedYear = e.target.getAttribute('data-year') * 1;\n\t\t\t\t\t\tthat.o.value = that.selectedYear;\n\t\t\t\t\t\t// animate if reselecting\n\t\t\t\t\t\tif (that.lists.classList.contains(that.options.classPrefix + 'month') && !that.lists.classList.contains(that.options.classPrefix + 'day')) {\n\t\t\t\t\t\t\tthat.lists.months.classList.add(that.options.classPrefix + 'switch');\n\t\t\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\t\t\tthat.lists.months.classList.remove(that.options.classPrefix + 'switch');\n\t\t\t\t\t\t\t}, 300);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (that.options.month) {\n\t\t\t\t\t\t\tthat.lists.classList.add(that.options.classPrefix + 'month');\n\t\t\t\t\t\t\t// check months\n\t\t\t\t\t\t\tthat.checkMonths();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// finished dating section\n\t\t\t\t\t\t\tthat.finishUp();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthat.clearFocus();\n\t\t\t\t\t\te.target.blur();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.mthClickFn = {\n\t\t\t\thandleEvent: function handleEvent(e) {\n\t\t\t\t\tif (!e.target.classList.contains(that.options.classPrefix + 'disabled')) {\n\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\t// clear previous data\n\t\t\t\t\t\tthat.clearStored();\n\t\t\t\t\t\tvar _monthRows2 = that.lists.months.querySelectorAll('li');\n\t\t\t\t\t\tfor (var i = 0; i < _monthRows2.length; i++) {\n\t\t\t\t\t\t\t_monthRows2[i].classList.remove(that.options.classPrefix + 'active');\n\t\t\t\t\t\t}\n\t\t\t\t\t\te.target.classList.add(that.options.classPrefix + 'active');\n\t\t\t\t\t\tthat.selectedMonth = e.target.getAttribute('data-month') * 1;\n\t\t\t\t\t\tif (that.options.day) {\n\t\t\t\t\t\t\tthat.o.value = that.options.monthList[that.selectedMonth] + ' ' + that.selectedYear;\n\t\t\t\t\t\t\tthat.o.classList.remove(that.options.classPrefix + 'active');\n\t\t\t\t\t\t\tthat.lists.classList.add(that.options.classPrefix + 'day');\n\t\t\t\t\t\t\tthat.addDays();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// finished dating section\n\t\t\t\t\t\t\tthat.finishUp();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthat.clearFocus();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.htmlClickFn = {\n\t\t\t\thandleEvent: function handleEvent(e) {\n\t\t\t\t\tif (e.target.closest('.dsq') !== that.wrapper) {\n\t\t\t\t\t\t// remove keyboard listener from window\n\t\t\t\t\t\tthat.rmEvt(window, 'keydown', that.keydownFn, false);\n\t\t\t\t\t\t// clear any focus \n\t\t\t\t\t\tthat.clearFocus();\n\t\t\t\t\t\tif (that.wrapper.classList.contains(that.options.classPrefix + 'active')) {\n\t\t\t\t\t\t\t// remove active class\n\t\t\t\t\t\t\tthat.removeActive(300);\n\n\t\t\t\t\t\t\t// remove this listener\n\t\t\t\t\t\t\tthat.rmEvt(document.documentElement, 'click', that.htmlClickFn, false);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.keydownFn = {\n\t\t\t\thandleEvent: function handleEvent(e) {\n\t\t\t\t\t// up === 38\n\t\t\t\t\t// left === 37\n\t\t\t\t\t// right === 39\n\t\t\t\t\t// down === 40\n\t\t\t\t\t// return === 13\n\t\t\t\t\t// space === 32\n\t\t\t\t\t// tab === 9\n\t\t\t\t\t// backspace === 8\n\t\t\t\t\tvar blocks = void 0,\n\t\t\t\t\t    unit = void 0,\n\t\t\t\t\t    unitId = void 0;\n\n\t\t\t\t\t// which list is active\n\t\t\t\t\tif (that.lists.classList.contains(that.options.classPrefix + 'day')) {\n\t\t\t\t\t\tunit = that.lists.days;\n\t\t\t\t\t\tunitId = 2;\n\t\t\t\t\t\t// active blocks (days)\n\t\t\t\t\t\tblocks = unit.querySelectorAll('li[data-day]:not(.' + that.options.classPrefix + 'disabled):not(.' + that.options.classPrefix + 'padding)');\n\t\t\t\t\t\tthat.lists.months.removeAttribute('aria-activedescendant');\n\t\t\t\t\t\tthat.lists.years.removeAttribute('aria-activedescendant');\n\t\t\t\t\t} else if (that.lists.classList.contains(that.options.classPrefix + 'month')) {\n\t\t\t\t\t\tunit = that.lists.months;\n\t\t\t\t\t\tunitId = 1;\n\t\t\t\t\t\t// active blocks (months)\n\t\t\t\t\t\tblocks = unit.querySelectorAll('li:not(.' + that.options.classPrefix + 'disabled)');\n\t\t\t\t\t\tthat.lists.days.removeAttribute('aria-activedescendant');\n\t\t\t\t\t\tthat.lists.years.removeAttribute('aria-activedescendant');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tunit = that.lists.years;\n\t\t\t\t\t\tunitId = 0;\n\t\t\t\t\t\t// active blocks (years)\n\t\t\t\t\t\tblocks = unit.querySelectorAll('li:not(.' + that.options.classPrefix + 'disabled)');\n\t\t\t\t\t\tthat.lists.days.removeAttribute('aria-activedescendant');\n\t\t\t\t\t\tthat.lists.months.removeAttribute('aria-activedescendant');\n\t\t\t\t\t}\n\n\t\t\t\t\t// find any existing focus\n\t\t\t\t\tvar blockOn = that.findFocus(blocks),\n\t\t\t\t\t    refocus = true;\n\n\t\t\t\t\t// check user is not typing a date\n\t\t\t\t\tif (document.activeElement.id !== that.o.id) {\n\n\t\t\t\t\t\t// key action modification\n\t\t\t\t\t\tswitch (e.which) {\n\t\t\t\t\t\t\tcase 40:\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t\tif (blockOn !== blocks.length - 1) {\n\t\t\t\t\t\t\t\t\t\tif (unitId !== 2) {\n\t\t\t\t\t\t\t\t\t\t\tblockOn++;\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\tvar disCheck = 0;\n\t\t\t\t\t\t\t\t\t\t\tvar step = that.lists.days.querySelectorAll('li:not(.' + that.options.classPrefix + 'dow-header):not(.' + that.options.classPrefix + 'padding)'),\n\t\t\t\t\t\t\t\t\t\t\t    endStep = step.length < blockOn + 7 ? step.length : blockOn + 7;\n\t\t\t\t\t\t\t\t\t\t\tfor (var i = blockOn; i < endStep; i++) {\n\t\t\t\t\t\t\t\t\t\t\t\tif (step[i].classList.contains(that.options.classPrefix + 'disabled')) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tdisCheck++;\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tblockOn = blockOn + 7 - disCheck < blocks.length - 1 ? blockOn + 7 - disCheck : blocks.length - 1;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tcase 39:\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t\tif (blockOn !== blocks.length - 1 && unitId === 2) blockOn++;\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tcase 38:\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t// up\n\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t\tif (blockOn !== 0) {\n\t\t\t\t\t\t\t\t\t\tif (unitId !== 2) {\n\t\t\t\t\t\t\t\t\t\t\tblockOn--;\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\tvar _disCheck = 0;\n\t\t\t\t\t\t\t\t\t\t\tvar _step = that.lists.days.querySelectorAll('li:not(.' + that.options.classPrefix + 'dow-header):not(.' + that.options.classPrefix + 'padding)'),\n\t\t\t\t\t\t\t\t\t\t\t    _endStep = 0 > blockOn - 7 ? 0 : blockOn - 7;\n\t\t\t\t\t\t\t\t\t\t\tfor (var j = blockOn; j > _endStep; j--) {\n\t\t\t\t\t\t\t\t\t\t\t\tif (_step[j].classList.contains(that.options.classPrefix + 'disabled')) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t_disCheck++;\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tblockOn = blockOn - 7 + _disCheck > -1 ? blockOn - 7 + _disCheck : 0;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t// back to input\n\t\t\t\t\t\t\t\t\t\tthat.o.focus();\n\t\t\t\t\t\t\t\t\t\tthat.o.select();\n\t\t\t\t\t\t\t\t\t\trefocus = false;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tcase 37:\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t// left\n\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t\tif (blockOn !== 0 && unitId === 2) {\n\t\t\t\t\t\t\t\t\t\tblockOn--;\n\t\t\t\t\t\t\t\t\t} else if (unitId === 1 && that.hasYear) {\n\t\t\t\t\t\t\t\t\t\tthat.goToYear();\n\t\t\t\t\t\t\t\t\t\tvar lastActive = that.lists.years.querySelector('.' + that.options.classPrefix + 'active');\n\t\t\t\t\t\t\t\t\t\tthat.lists.years.setAttribute('aria-activedescendant', lastActive.id);\n\t\t\t\t\t\t\t\t\t\tthat.setFocus(lastActive);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tcase 13:\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t\te.target.click();\n\t\t\t\t\t\t\t\t\tthat.clearFocus(); // clear all focus\n\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tcase 9:\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tthat.removeActive(0);\n\t\t\t\t\t\t\t\t\t// remove keyboard listener from window\n\t\t\t\t\t\t\t\t\tthat.rmEvt(window, 'keydown', that.keydownFn, false);\n\t\t\t\t\t\t\t\t\t// parse\n\t\t\t\t\t\t\t\t\tif (that.options.parse.active) {\n\t\t\t\t\t\t\t\t\t\tthat.setValue(that.o.value, that.options.parse.rule);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tcase 8:\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tdocument.body.click();\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t// go on merry way\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (e.which >= 37 && e.which <= 40 && refocus) {\n\t\t\t\t\t\t\t// set parent to active\n\t\t\t\t\t\t\tunit.setAttribute('aria-activedescendant', blocks[blockOn].id);\n\t\t\t\t\t\t\t// focus block\n\t\t\t\t\t\t\tthat.setFocus(blocks[blockOn]);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (e.which === 8) {\n\t\t\t\t\t\t\t// backspace\n\t\t\t\t\t\t\t// clear previous data\n\t\t\t\t\t\t\tthat.clearStored();\n\t\t\t\t\t\t} else if (e.which === 13) {\n\t\t\t\t\t\t\t// return\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\te.target.click();\n\t\t\t\t\t\t\tthat.clearFocus(); // clear all focus\n\t\t\t\t\t\t\t// close list\n\t\t\t\t\t\t\tif (that.wrapper.classList.contains(that.options.classPrefix + 'active')) {\n\t\t\t\t\t\t\t\tthat.wrapper.classList.remove(that.options.classPrefix + 'active');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (that.options.parse.active) {\n\t\t\t\t\t\t\t\tthat.setValue(that.o.value, that.options.parse.rule);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else if (e.which === 9) {\n\t\t\t\t\t\t\t// tab\n\t\t\t\t\t\t\t// close list\n\t\t\t\t\t\t\tthat.removeActive(300);\n\t\t\t\t\t\t\t// remove keyboard listener from window\n\t\t\t\t\t\t\tthat.rmEvt(window, 'keydown', that.keydownFn, false);\n\t\t\t\t\t\t\t// parse\n\t\t\t\t\t\t\tif (that.options.parse.active) {\n\t\t\t\t\t\t\t\tthat.setValue(that.o.value, that.options.parse.rule);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else if (e.which === 40) {\n\t\t\t\t\t\t\t// down\n\t\t\t\t\t\t\te.preventDefault();\n\n\t\t\t\t\t\t\t// set parent to active\n\t\t\t\t\t\t\tunit.setAttribute('aria-activedescendant', blocks[blockOn].id);\n\t\t\t\t\t\t\t// focus block\n\t\t\t\t\t\t\tthat.setFocus(blocks[blockOn]);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t\tvar delay = function () {\n\t\t\t\tvar timer = 0;\n\t\t\t\treturn function (callback, ms) {\n\t\t\t\t\tclearTimeout(timer);\n\t\t\t\t\ttimer = setTimeout(callback, ms);\n\t\t\t\t};\n\t\t\t}();\n\t\t\tthis.eventFn = {\n\t\t\t\thandleEvent: function handleEvent(e) {\n\t\t\t\t\tdelay(function () {\n\t\t\t\t\t\tif (!that.wrapper.classList.contains(that.options.classPrefix + 'active')) {\n\t\t\t\t\t\t\tif (dsq.isValidDate(that.parseDateString(e.target.value, that.options.parse.rule))) {\n\t\t\t\t\t\t\t\tthat.setValue(e.target.value, that.options.parse.rule);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tthat.clearStored();\n\t\t\t\t\t\t\t\tthat.makeCallback();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}, that.options.parse.delay);\n\t\t\t\t}\n\t\t\t};\n\t\t\t// year select\n\t\t\tif (this.hasYear) {\n\t\t\t\tfor (var i = 0; i < yearRows.length; i++) {\n\t\t\t\t\tthis.addEvt(yearRows[i], 'click', this.yrClickFn, false);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tyearRows[0].classList.add(this.options.classPrefix + 'noh');\n\t\t\t}\n\n\t\t\t// month select\n\t\t\tif (this.hasMonth) {\n\t\t\t\tfor (var _i3 = 0; _i3 < monthRows.length; _i3++) {\n\t\t\t\t\tthis.addEvt(monthRows[_i3], 'click', this.mthClickFn, false);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tmonthRows[0].classList.add(this.options.classPrefix + 'noh');\n\t\t\t}\n\n\t\t\t//focus event\n\t\t\tthis.addEvt(this.o, 'focus', this.focFn, false);\n\t\t\tthis.addEvt(this.o, 'blur', this.blurFn, false);\n\t\t\tif (!this.wrapper.classList.contains('dsq-touch') && this.options.parse.active) {\n\t\t\t\tthis.addEvt(this.o, this.options.parse.etype, this.eventFn, false);\n\t\t\t}\n\n\t\t\t// set initial date\n\t\t\tif (this.options.initial !== false) {\n\t\t\t\tthis.finishUp(this.options.initial, this.options.parse.rule);\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: 'findFocus',\n\t\tvalue: function findFocus(blocks) {\n\t\t\tfor (var i = 0; i < blocks.length; i++) {\n\t\t\t\tif (blocks[i] === document.activeElement) {\n\t\t\t\t\treturn i;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn 0;\n\t\t}\n\t}, {\n\t\tkey: 'setFocus',\n\t\tvalue: function setFocus(el, startNext) {\n\t\t\tthis.clearFocus();\n\t\t\tif (el !== undefined) {\n\t\t\t\t// remove aria\n\t\t\t\tel.parentElement.removeAttribute('aria-activedescendant');\n\n\t\t\t\t// add new focus\n\t\t\t\tel.focus();\n\t\t\t\tel.classList.add(this.options.classPrefix + 'focused');\n\t\t\t\tel.parentElement.setAttribute('aria-activedescendant', el.id);\n\t\t\t}\n\t\t\tif (startNext !== undefined) {\n\t\t\t\tstartNext.childNodes[0].focus();\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: 'clearStored',\n\t\tvalue: function clearStored() {\n\t\t\tthis.o.removeAttribute('data-dsq-date');\n\t\t\tthis.setDate = undefined;\n\t\t}\n\t}, {\n\t\tkey: 'clearFocus',\n\t\tvalue: function clearFocus() {\n\t\t\t// clear all\n\t\t\tvar listOn = [this.lists.years, this.lists.months, this.lists.days];\n\t\t\tfor (var l = 0; l < listOn.length; l++) {\n\t\t\t\tlistOn[l].removeAttribute('aria-activedescendant');\n\t\t\t\tvar focustedLi = listOn[l].querySelectorAll('.' + this.options.classPrefix + 'focused');\n\t\t\t\tfor (var x = 0; x < focustedLi.length; x++) {\n\t\t\t\t\tfocustedLi[x].classList.remove(this.options.classPrefix + 'focused');\n\t\t\t\t\tfocustedLi[x].blur();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: 'removeActive',\n\t\tvalue: function removeActive(duration) {\n\t\t\tvar _this = this;\n\n\t\t\tthis.wrapper.classList.add(this.options.classPrefix + 'closing');\n\t\t\tthis.wrapper.classList.remove(this.options.classPrefix + 'active');\n\t\t\tsetTimeout(function () {\n\t\t\t\t_this.wrapper.classList.remove(_this.options.classPrefix + 'closing');\n\t\t\t}, duration);\n\t\t}\n\t}, {\n\t\tkey: 'checkMonths',\n\t\tvalue: function checkMonths() {\n\t\t\tif (this.lists.classList.contains(this.options.classPrefix + 'month') && !this.lists.classList.contains(this.options.classPrefix + 'day')) {\n\t\t\t\tvar firstActive = false;\n\t\t\t\tfor (var m = 0; m < 12; m++) {\n\t\t\t\t\tvar daysInCurrentMonth = dsq.daysInMonth(this.selectedYear, m);\n\t\t\t\t\tif ((dsq.isBetweenDates(new Date(this.selectedYear, m, 1), this.options.start, this.options.end) || dsq.isBetweenDates(new Date(this.selectedYear, m, daysInCurrentMonth), this.options.start, this.options.end)) && (this.disDates.months === false || !this.disDates.months.has(this.selectedYear + '/' + m))) {\n\t\t\t\t\t\tthis.lists.querySelectorAll('.dsq-list-months li')[m].classList.remove(this.options.classPrefix + 'disabled');\n\t\t\t\t\t\tthis.lists.querySelectorAll('.dsq-list-months li')[m].setAttribute('tabindex', '-1');\n\t\t\t\t\t\tif (firstActive === false) {\n\t\t\t\t\t\t\tfirstActive = m * this.rowHeight;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.lists.querySelectorAll('.dsq-list-months li')[m].classList.add(this.options.classPrefix + 'disabled');\n\t\t\t\t\t\tthis.lists.querySelectorAll('.dsq-list-months li')[m].setAttribute('tabindex', '-1');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis.lists.months.scrollTop = firstActive;\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: 'addDays',\n\t\tvalue: function addDays() {\n\t\t\tvar numberOfDays = dsq.daysInMonth(this.selectedYear, this.selectedMonth),\n\t\t\t    daysOfWeek = ['sun', 'mon', 'tue', 'wed', 'thu', 'fri', 'sat'],\n\t\t\t    firstOfMonth = void 0;\n\n\t\t\tthis.reminder.innerHTML = '<span class=\"' + this.options.classPrefix + 'reminder-month\">' + this.options.monthList[this.selectedMonth] + '</span>&nbsp;<span class=\"' + this.options.classPrefix + 'reminder-year\">' + this.selectedYear + '</span>';\n\n\t\t\tthis.lists.days.innerHTML = '<li class=\"' + this.options.classPrefix + 'dow-header\">Mon</li><li class=\"' + this.options.classPrefix + 'dow-header\">Tue</li><li class=\"' + this.options.classPrefix + 'dow-header\">Wed</li><li class=\"' + this.options.classPrefix + 'dow-header\">Thu</li><li class=\"' + this.options.classPrefix + 'dow-header\">Fri</li><li class=\"' + this.options.classPrefix + 'dow-header\">Sat</li><li class=\"' + this.options.classPrefix + 'dow-header\">Sun</li>';\n\t\t\tfirstOfMonth = new Date(this.selectedYear, this.selectedMonth, 1).getDay() === 0 ? 6 : new Date(this.selectedYear, this.selectedMonth, 1).getDay() - 1;\n\t\t\t// set container size & 1st of month\n\t\t\tfor (var f = 0; f < firstOfMonth; f++) {\n\t\t\t\tthis.lists.days.insertAdjacentHTML('beforeend', '<li data-day class=\"' + this.options.classPrefix + 'padding\"></li>');\n\t\t\t}\n\t\t\tfor (var d = 1; d < numberOfDays + 1; d++) {\n\t\t\t\tvar theDay = daysOfWeek[new Date(this.selectedYear, this.selectedMonth, d).getDay()];\n\t\t\t\tif (dsq.isBetweenDates(new Date(this.selectedYear, this.selectedMonth, d), this.options.start, this.options.end) && (this.disDates.days === false || !this.disDates.days.has(this.selectedYear + '/' + this.selectedMonth + '/' + d) && !this.disDates.recurringDays.has(theDay) && !this.disDates.recurringDates.has(this.selectedYear + '/' + this.selectedMonth + '/' + d))) {\n\t\t\t\t\tthis.lists.days.insertAdjacentHTML('beforeend', '<li id=\"' + this.uid + '_d_' + d + '\" data-day=\"' + d + '\" tabindex=\"-1\" role=\"option\">' + d + '</li>');\n\t\t\t\t} else {\n\t\t\t\t\tthis.lists.days.insertAdjacentHTML('beforeend', '<li id=\"' + this.uid + '_d_' + d + '\" class=\"' + this.options.classPrefix + 'disabled\" data-day=\"' + d + '\" tabindex=\"-1\" role=\"option\">' + d + '</li>');\n\t\t\t\t}\n\t\t\t\tif (dsq.isSameDay(new Date(), new Date(this.selectedYear, this.selectedMonth, d)) && this.options.markToday) {\n\t\t\t\t\tthis.lists.days.querySelector('li[data-day=\"' + d + '\"]').classList.add(this.options.classPrefix + 'today');\n\t\t\t\t}\n\t\t\t}\n\t\t\t// day select\n\t\t\tvar activeDays = this.lists.days.querySelectorAll('li[data-day]'),\n\t\t\t    that = this;\n\t\t\tthis.dayClickFn = {\n\t\t\t\thandleEvent: function handleEvent(e) {\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t\tif (!e.target.classList.contains(that.options.classPrefix + 'disabled') && !e.target.classList.contains(that.options.classPrefix + 'padding')) {\n\t\t\t\t\t\tthat.selectedDay = e.target.getAttribute('data-day') * 1;\n\t\t\t\t\t\tthat.finishUp();\n\n\t\t\t\t\t\t// reset\n\t\t\t\t\t\tthat.setFocus(e.target);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.reminderFn = {\n\t\t\t\thandleEvent: function handleEvent(e) {\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t\tthat.lists.classList.add(that.options.classPrefix + 'out');\n\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\tthat.lists.classList.remove(that.options.classPrefix + 'out');\n\t\t\t\t\t}, 200);\n\t\t\t\t\tthat.lists.classList.remove(that.options.classPrefix + 'day');\n\t\t\t\t}\n\t\t\t};\n\t\t\t// add day click event\n\t\t\tfor (var i = 0; i < activeDays.length; i++) {\n\t\t\t\tthis.addEvt(activeDays[i], 'click', this.dayClickFn, false);\n\t\t\t}\n\t\t\tif (this.hasYear || this.hasMonth) {\n\t\t\t\tthis.addEvt(this.reminder, 'click', this.reminderFn, false);\n\t\t\t} else {\n\t\t\t\tthis.reminder.classList.add(this.options.classPrefix + 'noh');\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: 'goToYear',\n\t\tvalue: function goToYear() {\n\t\t\tthis.lists.classList.remove(this.options.classPrefix + 'day');\n\t\t\tthis.lists.classList.remove(this.options.classPrefix + 'month');\n\t\t\tthis.lists.months.removeAttribute('aria-activedescendant');\n\t\t}\n\t}, {\n\t\tkey: 'finishUp',\n\t\tvalue: function finishUp(makeDate, zoneOrder) {\n\t\t\tvar _this2 = this;\n\n\t\t\tvar delay = 300; // ms\n\t\t\tif (makeDate === undefined) {\n\t\t\t\tif (typeof this.selectedDay === 'undefined') {\n\t\t\t\t\t// month only\n\t\t\t\t\tthis.selectedDay = 1;\n\t\t\t\t}\n\t\t\t\tif (typeof this.selectedMonth === 'undefined') {\n\t\t\t\t\t// year only\n\t\t\t\t\tthis.selectedMonth = 1;\n\t\t\t\t}\n\t\t\t\tthis.setDate = new Date(this.selectedYear, this.selectedMonth, this.selectedDay);\n\t\t\t} else {\n\t\t\t\tif (dsq.isValidDate(this.parseDateString(makeDate, zoneOrder))) {\n\t\t\t\t\tthis.setDate = this.parseDateString(makeDate, zoneOrder);\n\t\t\t\t\tthis.selectedYear = this.setDate.getFullYear();\n\t\t\t\t\tthis.selectedMonth = this.setDate.getMonth();\n\t\t\t\t\tthis.selectedDay = this.setDate.getDate();\n\t\t\t\t} else {\n\t\t\t\t\t// date can't be parsed\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\t// format output & associate\n\t\t\tthis.setDate.save = dsq.format(this.setDate, this.options.patternSave);\n\t\t\tthis.setDate.human = dsq.format(this.setDate, this.options.pattern);\n\t\t\t// input & attribute values\n\t\t\t// user\n\t\t\tthis.o.value = this.setDate.human;\n\t\t\t// data-dsq-date\n\t\t\tthis.o.setAttribute('data-dsq-date', this.setDate.save);\n\t\t\t// update UI\n\t\t\tif (makeDate === undefined) {\n\t\t\t\t// set status to done\n\t\t\t\tthis.wrapper.classList.add(this.options.classPrefix + 'done');\n\t\t\t\tthis.removeActive(delay);\n\t\t\t\t// remove listener\n\t\t\t\tthis.rmEvt(document.documentElement, 'click', this.htmlClickFn, false);\n\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t// make callback\n\t\t\t\t\t_this2.makeCallback();\n\t\t\t\t\t// remove done indicator\n\t\t\t\t\t_this2.wrapper.classList.remove(_this2.options.classPrefix + 'done');\n\t\t\t\t\t// remove stage indicator class(es)\n\t\t\t\t\t_this2.lists.classList.remove(_this2.options.classPrefix + 'day', _this2.options.classPrefix + 'month');\n\t\t\t\t}, delay);\n\t\t\t} else {\n\t\t\t\t// close UI and blur\n\t\t\t\tif (this.wrapper.classList.contains(this.options.classPrefix + 'active')) {\n\t\t\t\t\tthis.wrapper.classList.remove(this.options.classPrefix + 'active');\n\t\t\t\t}\n\n\t\t\t\t// make callback\n\t\t\t\tthis.makeCallback();\n\t\t\t}\n\t\t}\n\t\t// event functions\n\n\t}, {\n\t\tkey: 'makeCallback',\n\t\tvalue: function makeCallback() {\n\t\t\tvar callback = undefined,\n\t\t\t    args = {\n\t\t\t\tdate: this.setDate ? this.setDate : undefined,\n\t\t\t\tinput: this.o,\n\t\t\t\twrapper: this.wrapper,\n\t\t\t\thuman: this.setDate ? this.setDate.human : undefined,\n\t\t\t\tsave: this.setDate ? this.setDate.save : undefined\n\t\t\t};\n\t\t\tcallback = this.options.callback.call(args);\n\n\t\t\tif (typeof this.options.callback === 'function') {\n\t\t\t\tcallback;\n\t\t\t} else {\n\t\t\t\t/* eslint-disable no-console */\n\t\t\t\tconsole.error('dateSquirrel: Supplied callback is not a function');\n\t\t\t\t/* eslint-enable no-console */\n\t\t\t}\n\t\t}\n\n\t\t// utility functions\n\t\t// DOM checks\n\t\t/*wouldBeInView(el, retDir) {\r\n  \tretDir = retDir || false;\r\n  \tlet rect = el.parentElement.getBoundingClientRect(),\r\n  \t\tviewHeight = Math.max(document.documentElement.clientHeight, window.innerHeight),\r\n  \t\tabove = rect.top < 100,\r\n  \t\tbelow = this.listHeight + rect.top - viewHeight >= 0;\r\n  \tif (!above && !below) {\r\n  \t\treturn true;\r\n  \t} else if (retDir && above) {\r\n  \t\treturn 'above';\r\n  \t} else if (retDir && below) {\r\n  \t\treturn 'below';\r\n  \t} else {\r\n  \t\treturn false;\r\n  \t}\r\n  }*/\n\n\t}, {\n\t\tkey: 'removeData',\n\t\tvalue: function removeData(node) {\n\t\t\twhile (node.firstChild) {\n\t\t\t\tnode.removeChild(node.firstChild);\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: 'addEvt',\n\t\tvalue: function addEvt(el, evt, fn, bubble) {\n\t\t\tif ('addEventListener' in el) {\n\t\t\t\t// BBOS6 doesn't support handleEvent, catch and polyfill\n\t\t\t\ttry {\n\t\t\t\t\tel.addEventListener(evt, fn, bubble);\n\t\t\t\t} catch (e) {\n\t\t\t\t\tif ((typeof fn === 'undefined' ? 'undefined' : _typeof(fn)) === 'object' && fn.handleEvent) {\n\t\t\t\t\t\tel.addEventListener(evt, function (e) {\n\t\t\t\t\t\t\t// Bind fn as this and set first arg as event object\n\t\t\t\t\t\t\tfn.handleEvent.call(fn, e);\n\t\t\t\t\t\t}, bubble);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthrow e;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if ('attachEvent' in el) {\n\t\t\t\t// check if the callback is an object and contains handleEvent\n\t\t\t\tif ((typeof fn === 'undefined' ? 'undefined' : _typeof(fn)) === 'object' && fn.handleEvent) {\n\t\t\t\t\tel.attachEvent('on' + evt, function () {\n\t\t\t\t\t\t// Bind fn as this\n\t\t\t\t\t\tfn.handleEvent.call(fn);\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tel.attachEvent('on' + evt, fn);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: 'rmEvt',\n\t\tvalue: function rmEvt(el, evt, fn, bubble) {\n\t\t\tif ('removeEventListener' in el) {\n\t\t\t\t// BBOS6 doesn't support handleEvent, catch and polyfill\n\t\t\t\ttry {\n\t\t\t\t\tel.removeEventListener(evt, fn, bubble);\n\t\t\t\t} catch (e) {\n\t\t\t\t\tif ((typeof fn === 'undefined' ? 'undefined' : _typeof(fn)) === 'object' && fn.handleEvent) {\n\t\t\t\t\t\tel.removeEventListener(evt, function (e) {\n\t\t\t\t\t\t\t// Bind fn as this and set first arg as event object\n\t\t\t\t\t\t\tfn.handleEvent.call(fn, e);\n\t\t\t\t\t\t}, bubble);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthrow e;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if ('detachEvent' in el) {\n\t\t\t\t// check if the callback is an object and contains handleEvent\n\t\t\t\tif ((typeof fn === 'undefined' ? 'undefined' : _typeof(fn)) === 'object' && fn.handleEvent) {\n\t\t\t\t\tel.detachEvent(\"on\" + evt, function () {\n\t\t\t\t\t\t// Bind fn as this\n\t\t\t\t\t\tfn.handleEvent.call(fn);\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tel.detachEvent('on' + evt, fn);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t// wrap in HTML\n\n\t}, {\n\t\tkey: 'wrap',\n\t\tvalue: function wrap() {\n\t\t\t// wrapper\n\t\t\tthis.lists = document.createElement('div');\n\t\t\tthis.lists.className = this.options.classPrefix + 'lists';\n\t\t\tthis.reminder = this.lists.querySelector('.' + this.options.classPrefix + 'reminder');\n\t\t\tthis.lists.dayWrap = this.lists.querySelector('.' + this.options.classPrefix + 'days');\n\t\t\tthis.lists.days = this.lists.querySelector('.' + this.options.classPrefix + 'days .' + this.options.classPrefix + 'list-days');\n\t\t\t// day list\n\t\t\tthis.lists.dayWrap = document.createElement('div');\n\t\t\tthis.lists.dayWrap.className = this.options.classPrefix + 'days';\n\t\t\tthis.lists.days = document.createElement('ul');\n\t\t\tthis.lists.days.className = this.options.classPrefix + 'list-days';\n\t\t\tthis.lists.days.role = 'listbox';\n\t\t\tthis.lists.daySide = document.createElement('span');\n\t\t\tthis.lists.daySide.className = this.options.classPrefix + 'side';\n\t\t\t// reminder\n\t\t\tthis.reminder = document.createElement('a');\n\t\t\tthis.reminder.className = this.options.classPrefix + 'reminder';\n\t\t\t// month list\n\t\t\tthis.lists.months = document.createElement('ul');\n\t\t\tthis.lists.months.className = this.options.classPrefix + 'list-months';\n\t\t\tthis.lists.months.role = 'listbox';\n\t\t\t// year list\n\t\t\tthis.lists.years = document.createElement('ul');\n\t\t\tthis.lists.years.className = this.options.classPrefix + 'list-years';\n\t\t\tthis.lists.years.role = 'listbox';\n\t\t\t// outer wrapper\n\t\t\tthis.wrapper = document.createElement('div');\n\t\t\tthis.wrapper.className = 'dsq';\n\t\t\tthis.wrapper.id = this.uid;\n\t\t\tthis.o.parentNode.insertBefore(this.wrapper, this.o.nextSibling);\n\t\t\t// merge\n\t\t\tthis.lists.daySide.appendChild(this.reminder);\n\t\t\tthis.lists.dayWrap.appendChild(this.lists.daySide);\n\t\t\tthis.lists.dayWrap.appendChild(this.lists.days);\n\t\t\tthis.lists.appendChild(this.lists.years);\n\t\t\tthis.lists.appendChild(this.lists.months);\n\t\t\tthis.lists.appendChild(this.lists.dayWrap);\n\t\t\tthis.wrapper.appendChild(this.o);\n\t\t\tthis.wrapper.appendChild(this.lists);\n\t\t}\n\t}, {\n\t\tkey: 'unwrap',\n\t\tvalue: function unwrap() {\n\t\t\t// remove lists\n\t\t\tthis.lists.remove();\n\t\t\t// move input\n\t\t\tthis.wrapper.parentNode.insertBefore(this.o, this.wrapper);\n\t\t\t// remove wrapper\n\t\t\tthis.wrapper.remove();\n\t\t}\n\t}, {\n\t\tkey: 'extend',\n\t\tvalue: function extend() {\n\t\t\t// from https://www.gomakethings.com/merging-objects-with-vanilla-javascript/\n\t\t\t// Variables\n\t\t\tvar extended = {},\n\t\t\t    deep = false,\n\t\t\t    i = 0,\n\t\t\t    length = arguments.length;\n\t\t\t// Check if a deep merge\n\t\t\tif (Object.prototype.toString.call(arguments[0]) === '[object Boolean]') {\n\t\t\t\tdeep = arguments[0];\n\t\t\t\ti++;\n\t\t\t}\n\t\t\t// Merge the object into the extended object\n\t\t\tvar merge = function merge(obj) {\n\t\t\t\tfor (var prop in obj) {\n\t\t\t\t\tif (Object.prototype.hasOwnProperty.call(obj, prop)) {\n\t\t\t\t\t\t// If deep merge and property is an object, merge properties\n\t\t\t\t\t\tif (deep && Object.prototype.toString.call(obj[prop]) === '[object Object]') {\n\t\t\t\t\t\t\textended[prop] = this.extend(true, extended[prop], obj[prop]);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\textended[prop] = obj[prop];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t\t// Loop through each object and conduct a merge\n\t\t\tfor (; i < length; i++) {\n\t\t\t\tvar obj = arguments[i];\n\t\t\t\tmerge(obj);\n\t\t\t}\n\t\t\treturn extended;\n\t\t}\n\t}, {\n\t\tkey: 'isFunction',\n\t\tvalue: function isFunction(obj) {\n\t\t\treturn !!(obj && obj.constructor && obj.call && obj.apply);\n\t\t}\n\t\t// date functions\n\n\t}, {\n\t\tkey: 'processUd',\n\t\tvalue: function processUd(obj) {\n\t\t\tif (this.isFunction(obj)) {\n\t\t\t\tobj = obj();\n\t\t\t} else if (!(obj instanceof Date)) {\n\t\t\t\tif (12 <= obj.m) {\n\t\t\t\t\tobj.m = 11;\n\t\t\t\t}\n\t\t\t\tvar numDays = dsq.daysInMonth(obj.y, obj.m);\n\t\t\t\tif (numDays < obj.d) {\n\t\t\t\t\tobj.d = numDays;\n\t\t\t\t}\n\t\t\t\tobj = new Date(obj.y, obj.m, obj.d);\n\t\t\t}\n\t\t\tobj.y = obj.getFullYear();\n\t\t\tobj.m = obj.getMonth();\n\t\t\tobj.d = obj.getDate();\n\t\t\treturn obj;\n\t\t}\n\t\t// merge array [!!mutates original array!!]\n\n\t}, {\n\t\tkey: 'uniqBy',\n\t\tvalue: function uniqBy(a, key) {\n\t\t\tvar seen = new Set();\n\t\t\treturn a.filter(function (item) {\n\t\t\t\tvar k = key(item);\n\t\t\t\treturn seen.has(k) ? false : seen.add(k);\n\t\t\t});\n\t\t}\n\t}, {\n\t\tkey: 'tagDisabled',\n\t\tvalue: function tagDisabled(startDate, endDate) {\n\t\t\tvar fnStart = new Date(startDate),\n\t\t\t    fnEnd = new Date(endDate),\n\t\t\t    difference = dsq.countMonths(fnStart, fnEnd, true),\n\t\t\t    fnDates = [],\n\t\t\t    thirdYear = new Date(fnStart.getFullYear() + 1, 11, 31);\n\t\t\t// calculate 1st disabled year\n\t\t\tif (fnStart.getDate() === 1 && fnStart.getMonth() === 0 && difference > 11) {\n\t\t\t\tfnDates.years = [fnStart.getFullYear()];\n\t\t\t} else if (thirdYear.getTime() <= fnEnd.getTime()) {\n\t\t\t\t//add a year\n\t\t\t\tfnDates.years = [fnStart.getFullYear() + 1];\n\t\t\t} else {\n\t\t\t\tfnDates.years = false;\n\t\t\t}\n\t\t\t// add remaining disabled years\n\t\t\tif (difference / 24 >= 1) {\n\t\t\t\tfor (var i = 0; i <= dsq.countMonths(new Date(fnDates.years[0], 11, 31), fnEnd, true) / 12 - 1; i++) {\n\t\t\t\t\tfnDates.years.push(fnDates.years[i] + 1);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// calculate 1st disabled month(s) (before or after any years) \n\t\t\tif (difference >= 1) {\n\t\t\t\t// at least one whole month difference\n\t\t\t\tif (fnDates.years[0] !== fnStart.getFullYear()) {\n\t\t\t\t\t// 1st year not already disabled\n\t\t\t\t\tif (fnStart.getDate() === 1) {\n\t\t\t\t\t\t// 1st of the month\n\t\t\t\t\t\tfnDates.months = [fnStart.getFullYear() + '/' + fnStart.getMonth()]; // the first month\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (fnStart.getMonth() + 1 <= 11 && new Date(fnStart.getFullYear(), fnStart.getMonth() + 1, 31).getTime() <= fnEnd.getTime()) {\n\t\t\t\t\t\t\t// added month in same year && within range\n\t\t\t\t\t\t\tfnDates.months = [fnStart.getFullYear() + '/' + (fnStart.getMonth() + 1)]; // the next month\n\t\t\t\t\t\t} else if (fnDates.years === false && new Date(fnStart.getFullYear() + 1, 0, 31).getTime() <= fnEnd.getTime()) {\n\t\t\t\t\t\t\t// no disabled years && within range\n\t\t\t\t\t\t\tfnDates.months = [fnStart.getFullYear() + 1 + '/0']; // next January \n\t\t\t\t\t\t} else if (fnDates.years !== false && new Date(fnDates.years[fnDates.years.length - 1] + 1, 0, 31).getTime() <= fnEnd.getTime()) {\n\t\t\t\t\t\t\t// has disabled years && within range\n\t\t\t\t\t\t\tfnDates.months = [fnDates.years[fnDates.years.length - 1] + 1 + '/0']; // first non-disabled January\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tfnDates.months = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t// 1st year disabled\n\t\t\t\t\tif (new Date(fnDates.years[fnDates.years.length - 1] + 1, 0, 31).getTime() <= fnEnd.getTime()) {\n\t\t\t\t\t\t// within range\n\t\t\t\t\t\tfnDates.months = [fnDates.years[fnDates.years.length - 1] + 1 + '/0']; // first non-disabled January\n\t\t\t\t\t} else {\n\t\t\t\t\t\tfnDates.months = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tfnDates.months = false;\n\t\t\t}\n\t\t\t// add remaining disabled months\n\t\t\tvar preDiff = dsq.countMonths(fnStart, new Date(fnDates.years[0], 0, 1), true),\n\t\t\t    // months before\n\t\t\tpostDiff = dsq.countMonths(new Date(fnDates.years[fnDates.years.length - 1] + 1, 0, 1), fnEnd, true); // months after\n\t\t\tif (preDiff >= 2) {\n\t\t\t\t// months before\n\t\t\t\tfor (var b = 1; b < preDiff; b++) {\n\t\t\t\t\tfnDates.months.push(fnStart.getFullYear() + '/' + (fnDates.months[b - 1].split('/')[1] * 1 + 1));\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (postDiff >= 1) {\n\t\t\t\t// months after\n\t\t\t\tvar a = 0;\n\t\t\t\tif (preDiff === 0) {\n\t\t\t\t\ta++;\n\t\t\t\t}\n\t\t\t\tfor (a; a < postDiff; a++) {\n\t\t\t\t\tfnDates.months.push(fnDates.years[fnDates.years.length - 1] + 1 + '/' + a);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (preDiff === -1 && postDiff === -1 && fnDates.months[0]) {\n\t\t\t\t// no years\n\t\t\t\tvar yrCount = fnDates.months[0].split('/')[0] * 1,\n\t\t\t\t    mtCount = void 0;\n\t\t\t\tfor (var d = 1; d < difference - 1; d++) {\n\t\t\t\t\t// d = 1 && difference -1 (first entry already calculated)\n\t\t\t\t\tmtCount = fnDates.months[d - 1].split('/')[1] * 1;\n\t\t\t\t\tif (mtCount === 11) {\n\t\t\t\t\t\tmtCount = 0;\n\t\t\t\t\t\tyrCount++;\n\t\t\t\t\t}\n\t\t\t\t\tfnDates.months.push(yrCount + '/' + (mtCount + 1));\n\t\t\t\t\tif (mtCount === 11) {\n\t\t\t\t\t\tmtCount = 0;\n\t\t\t\t\t\tyrCount++;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tmtCount++;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t// add remaining disabled days\n\t\t\tfnDates.days = [];\n\n\t\t\tif (fnDates.years === false && fnDates.months === false) {\n\t\t\t\t// range is all days\n\t\t\t\tvar endIn = 0;\n\t\t\t\tif (fnStart.getMonth() !== fnEnd.getMonth()) {\n\t\t\t\t\t// ends next month\n\t\t\t\t\tendIn = fnEnd.getDate() + 1 + dsq.daysInMonth(fnStart.getFullYear(), fnStart.getMonth()); // fnEnd+1 because calculates to beginning of last day (00:00) but last day is also disabled\n\t\t\t\t} else {\n\t\t\t\t\tendIn = fnEnd.getDate() + 1; // fnEnd+1 because calculates to beginning of last day (00:00) but last day is also disabled\n\t\t\t\t}\n\t\t\t\tfor (var _i4 = fnStart.getDate(); _i4 < endIn; _i4++) {\n\t\t\t\t\tif (_i4 >= dsq.daysInMonth(fnStart.getFullYear(), fnStart.getMonth()) + 1) {\n\t\t\t\t\t\t// crosses into new month\n\t\t\t\t\t\tfnDates.days.push(fnStart.getFullYear() + '/' + fnEnd.getMonth() + '/' + (_i4 - dsq.daysInMonth(fnStart.getFullYear(), fnStart.getMonth())));\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// same month\n\t\t\t\t\t\tfnDates.days.push(fnStart.getFullYear() + '/' + fnStart.getMonth() + '/' + _i4);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (fnDates.years === false && fnDates.months !== false) {\n\t\t\t\t// range is months\n\t\t\t\tif (fnStart.getMonth() < fnDates.months[0].split('/')[1]) {\n\t\t\t\t\t// days at start of range\n\t\t\t\t\tfor (var _i5 = fnStart.getDate(); _i5 < dsq.daysInMonth(fnStart.getFullYear(), fnDates.months[0].split('/')[1] * 1 - 1) + 1; _i5++) {\n\t\t\t\t\t\t// fnEnd+1 because calculates to beginning of last day (00:00) but last day is also disabled\n\t\t\t\t\t\tfnDates.days.push(fnStart.getFullYear() + '/' + fnStart.getMonth() + '/' + _i5);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (new Date(fnEnd.getFullYear(), fnDates.months[fnDates.months.length - 1].split('/')[1] * 1 + 1).getTime() < fnEnd.getTime()) {\n\t\t\t\t\t// days at end of range\n\t\t\t\t\tfor (var _d = 1; _d < fnEnd.getDate() + 1; _d++) {\n\t\t\t\t\t\t// fnEnd+1 because calculates to beginning of last day (00:00) but last day is also disabled\n\t\t\t\t\t\tfnDates.days.push(fnEnd.getFullYear() + '/' + fnEnd.getMonth() + '/' + _d);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (fnDates.years !== false && fnDates.months === false) {\n\t\t\t\t// range is years\n\t\t\t\tif (fnStart.getFullYear() < fnDates.years[0]) {\n\t\t\t\t\t// days at start of range\n\t\t\t\t\tfor (var _i6 = fnStart.getDate(); _i6 < dsq.daysInMonth(fnStart.getFullYear(), fnStart.getMonth()) + 1; _i6++) {\n\t\t\t\t\t\t// fnEnd+1 because calculates to beginning of last day (00:00) but last day is also disabled\n\t\t\t\t\t\tfnDates.days.push(fnStart.getFullYear() + '/' + fnStart.getMonth() + '/' + _i6);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (new Date(fnDates.years[fnDates.years.length - 1] + 1, fnStart.getMonth()).getTime() < fnEnd.getTime()) {\n\t\t\t\t\t// days at end of range\n\t\t\t\t\tfor (var _d2 = 1; _d2 < fnEnd.getDate() + 1; _d2++) {\n\t\t\t\t\t\t// fnEnd+1 because calculates to beginning of last day (00:00) but last day is also disabled\n\t\t\t\t\t\tfnDates.days.push(fnEnd.getFullYear() + '/' + fnEnd.getMonth() + '/' + _d2);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// range is years && months [bug]\n\t\t\t\tvar timeAtY0 = new Date(fnDates.years[0], 0, 1).getTime(),\n\t\t\t\t    timeAtM0 = new Date(fnDates.months[0].split('/')[0], fnDates.months[0].split('/')[1]).getTime();\n\t\t\t\tif (fnStart.getTime() < timeAtY0 && timeAtY0 < timeAtM0 || fnStart.getTime() < timeAtM0 && timeAtM0 < timeAtY0) {\n\t\t\t\t\t// starts before year (not month) | d < y < m\n\t\t\t\t\tfor (var _i7 = fnStart.getDate(); _i7 < dsq.daysInMonth(fnStart.getFullYear(), fnStart.getMonth()) + 1; _i7++) {\n\t\t\t\t\t\t// fnEnd+1 because calculates to beginning of last day (00:00) but last day is also disabled\n\t\t\t\t\t\tfnDates.days.push(fnStart.getFullYear() + '/' + fnStart.getMonth() + '/' + _i7);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t// starts after month or year) | y or m < d\n\t\t\t\t\tfor (var _d3 = 1; _d3 < fnEnd.getDate() + 1; _d3++) {\n\t\t\t\t\t\t// fnEnd+1 because calculates to beginning of last day (00:00) but last day is also disabled\n\t\t\t\t\t\tfnDates.days.push(fnEnd.getFullYear() + '/' + fnEnd.getMonth() + '/' + _d3);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (fnDates.days.length === 0) {\n\t\t\t\tfnDates.days = false;\n\t\t\t}\n\t\t\tthis.disArray = fnDates;\n\t\t\treturn fnDates;\n\t\t}\n\t\t// getters & setters\n\n\t}, {\n\t\tkey: 'getValue',\n\t\tvalue: function getValue(pattern) {\n\t\t\tif (pattern === undefined || this.setDate === undefined) {\n\t\t\t\t//console.log('pattern: ',pattern);\n\t\t\t\treturn this.setDate;\n\t\t\t} else {\n\t\t\t\treturn dsq.format(this.setDate, pattern);\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: 'setValue',\n\t\tvalue: function setValue(setTo, zoneOrder) {\n\t\t\tif (setTo !== undefined) {\n\t\t\t\tthis.finishUp(setTo, zoneOrder);\n\t\t\t\treturn true;\n\t\t\t} else {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\t// parse string entered in UK date format\n\n\t}, {\n\t\tkey: 'parseDateString',\n\t\tvalue: function parseDateString(str, zone) {\n\t\t\tvar delimiter = false,\n\t\t\t    delimiterPT = false,\n\t\t\t    monthNum = null,\n\t\t\t    dayNum = null,\n\t\t\t    yearNum = null,\n\t\t\t    monthPart = null,\n\t\t\t    dayPart = null,\n\t\t\t    yearPart = null,\n\t\t\t    potentials = [' ', '.', '/', '-', ':', ';'],\n\t\t\t    cleanerUI = str.replace(/,/g, '').replace(/\\(/g, '').replace(/\\)/g, '').replace(/\\[/g, '').replace(/\\]/g, ''),\n\t\t\t    //remove commas & brackets,\n\t\t\tcleanerPT = this.options.pattern.replace(/,/g, '').replace(/\\(/g, '').replace(/\\)/g, '').replace(/\\[/g, '').replace(/\\]/g, ''); //remove commas & brackets\n\n\t\t\t// identify delimiter in user input & pattern\n\t\t\tpotentials.forEach(function (instance) {\n\t\t\t\tif (cleanerUI.indexOf(instance) > 0) {\n\t\t\t\t\tif (instance === ' ') {\n\t\t\t\t\t\tcleanerUI = cleanerUI.replace(/  /g, ' '); //replace double spacing\n\t\t\t\t\t}\n\t\t\t\t\tdelimiter = instance;\n\t\t\t\t}\n\t\t\t\tif (cleanerPT.indexOf(instance) > 0) {\n\t\t\t\t\tif (instance === ' ') {\n\t\t\t\t\t\tcleanerPT = cleanerPT.replace(/  /g, ' '); //replace double spacing\n\t\t\t\t\t}\n\t\t\t\t\tdelimiterPT = instance;\n\t\t\t\t}\n\t\t\t});\n\t\t\tif (delimiter) {\n\t\t\t\tvar parts = cleanerUI.split(delimiter),\n\t\t\t\t    partsPT = cleanerPT.split(delimiterPT);\n\t\t\t\t// foreach parts check if day, if is: remove parts[x] & return true\n\t\t\t\tparts.some(function (part, i) {\n\t\t\t\t\tif (['sun', 'mon', 'tue', 'wed', 'thu', 'fri', 'sat'].indexOf(part.substring(0, 3).toLowerCase()) > -1) {\n\t\t\t\t\t\tparts.splice(parts[i], 1);\n\t\t\t\t\t}\n\t\t\t\t\treturn ['sun', 'mon', 'tue', 'wed', 'thu', 'fri', 'sat'].indexOf(part.substring(0, 3).toLowerCase()) > -1;\n\t\t\t\t});\n\n\t\t\t\tif (parts.length < 3) {\n\t\t\t\t\t// maybe partial or short pattern\n\t\t\t\t\tif (parts.length === partsPT.length) {\n\t\t\t\t\t\t// probably short pattern\n\t\t\t\t\t\tpartsPT.forEach(function (partPT, j) {\n\t\t\t\t\t\t\tif (partPT.indexOf('w') > -1) {\n\t\t\t\t\t\t\t\tpartsPT.splice(partsPT[j], 1);\n\t\t\t\t\t\t\t} else if (partsPT[j].indexOf('d') > -1) {\n\t\t\t\t\t\t\t\tdayPart = parts[j];\n\t\t\t\t\t\t\t} else if (partsPT[j].indexOf('m') > -1) {\n\t\t\t\t\t\t\t\tmonthPart = parts[j];\n\t\t\t\t\t\t\t} else if (partsPT[j].indexOf('y') > -1) {\n\t\t\t\t\t\t\t\tyearPart = parts[j];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// inidentifiable parts\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t} else if (parts.length === 3) {\n\t\t\t\t\t// e.g day, month, year\n\t\t\t\t\t// workout return order\n\t\t\t\t\tif (zone !== undefined) {\n\t\t\t\t\t\tif (zone[0] === 'y') {\n\t\t\t\t\t\t\tyearPart = parts[0];\n\t\t\t\t\t\t\tif (zone[1] === 'm') {\n\t\t\t\t\t\t\t\tmonthPart = parts[1];\n\t\t\t\t\t\t\t\tdayPart = parts[2];\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t// assume; zone[x] === d\n\t\t\t\t\t\t\t\tmonthPart = parts[2];\n\t\t\t\t\t\t\t\tdayPart = parts[1];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else if (zone[0] === 'm') {\n\t\t\t\t\t\t\tmonthPart = parts[0];\n\t\t\t\t\t\t\tif (zone[1] === 'y') {\n\t\t\t\t\t\t\t\tyearPart = parts[1];\n\t\t\t\t\t\t\t\tdayPart = parts[2];\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t// assume; zone[x] === d\n\t\t\t\t\t\t\t\tyearPart = parts[2];\n\t\t\t\t\t\t\t\tdayPart = parts[1];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// assume; zone[x] === d\n\t\t\t\t\t\t\tdayPart = parts[0];\n\t\t\t\t\t\t\tif (zone[1] === 'y') {\n\t\t\t\t\t\t\t\tyearPart = parts[1];\n\t\t\t\t\t\t\t\tmonthPart = parts[2];\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t// assume; zone[x] === m\n\t\t\t\t\t\t\t\tyearPart = parts[2];\n\t\t\t\t\t\t\t\tmonthPart = parts[1];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tyearPart = parts[2];\n\t\t\t\t\t\tmonthPart = parts[1];\n\t\t\t\t\t\tdayPart = parts[0];\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t// too many parts\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\t// check for words\n\t\t\t\tif (monthPart) {\n\t\t\t\t\tif (isNaN(monthPart * 1)) {\n\t\t\t\t\t\tmonthNum = this.options.monthList.indexOf(monthPart.substring(0, 3).charAt(0).toUpperCase() + monthPart.substring(0, 3).slice(1));\n\t\t\t\t\t} else {\n\t\t\t\t\t\tmonthNum = monthPart - 1;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tmonthNum = 0;\n\t\t\t\t}\n\t\t\t\tif (dayPart) {\n\t\t\t\t\tif (isNaN(dayPart * 1)) {\n\t\t\t\t\t\tdayNum = dayPart.replace(/\\D/g, '');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tdayNum = dayPart;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tdayNum = 1;\n\t\t\t\t}\n\n\t\t\t\t// check year length and adjust\n\t\t\t\tif (yearPart) {\n\t\t\t\t\tif (yearPart.length === 4) {\n\t\t\t\t\t\tyearNum = yearPart;\n\t\t\t\t\t} else if (yearPart.length === 3) {\n\t\t\t\t\t\tyearNum = yearPart.replace(/\\D/g, '');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (yearPart * 1 > new Date().getFullYear().toString().slice(-2)) {\n\t\t\t\t\t\t\tyearNum = '19' + yearPart;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tyearNum = '20' + yearPart;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tyearNum = new Date().getFullYear();\n\t\t\t\t}\n\n\t\t\t\tvar retDate = new Date(yearNum, monthNum, dayNum);\n\t\t\t\tif (dsq.isValidDate(retDate)) {\n\t\t\t\t\treturn new Date(yearNum, monthNum, dayNum);\n\t\t\t\t} else {\n\t\t\t\t\t// invalid date\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// no or unidentifiable delimiter\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\t// add touch classes to dsq instances\n\n\t}], [{\n\t\tkey: 'touchSet',\n\t\tvalue: function touchSet() {\n\t\t\t// add touch class\n\t\t\tdocument.querySelectorAll('.dsq').forEach(function (element) {\n\t\t\t\telement.classList.add('dsq-touch');\n\t\t\t});\n\t\t\t//this.wrapper.classList.add(this.options.classPrefix + 'touch');\n\t\t}\n\t\t// check if a date is valid\n\t\t// https://stackoverflow.com/questions/1353684/detecting-an-invalid-date-date-instance-in-javascript#answer-1353711\n\n\t}, {\n\t\tkey: 'isValidDate',\n\t\tvalue: function isValidDate(d) {\n\t\t\treturn d instanceof Date && !isNaN(d);\n\t\t}\n\t}, {\n\t\tkey: 'countMonths',\n\t\tvalue: function countMonths(startDate, endDate, whole) {\n\t\t\tvar stepDate = new Date(startDate),\n\t\t\t    fnStart = new Date(startDate),\n\t\t\t    fnEnd = new Date(endDate),\n\t\t\t    monthCount = 0;\n\t\t\tif (whole) {\n\t\t\t\tif (fnStart.getDate() !== 1 && fnStart.getMonth() !== 0) {\n\t\t\t\t\tfnStart.setFullYear(fnStart.getFullYear(), fnStart.getMonth() + 1, 1);\n\t\t\t\t}\n\t\t\t\tif (fnEnd.getDate() === dsq.daysInMonth(fnEnd.getFullYear(), fnEnd.getMonth())) {\n\t\t\t\t\tfnEnd.setFullYear(fnEnd.getFullYear(), fnEnd.getMonth() + 1, 1);\n\t\t\t\t} else {\n\t\t\t\t\tfnEnd.setFullYear(fnEnd.getFullYear(), fnEnd.getMonth(), 1);\n\t\t\t\t}\n\t\t\t}\n\t\t\tstepDate = fnStart;\n\t\t\twhile (stepDate.getTime() <= fnEnd.getTime()) {\n\t\t\t\tstepDate.setMonth(stepDate.getMonth() + 1);\n\t\t\t\tmonthCount += 1;\n\t\t\t}\n\t\t\tif (stepDate !== fnEnd) {\n\t\t\t\tmonthCount -= 1;\n\t\t\t}\n\t\t\treturn monthCount;\n\t\t}\n\t}, {\n\t\tkey: 'isBetweenDates',\n\t\tvalue: function isBetweenDates(test, start, end) {\n\t\t\t// assumes END of test day\n\t\t\tvar realEnd = new Date(end.getFullYear(), end.getMonth(), end.getDate(), 23, 59, 59, 999),\n\t\t\t    realStart = new Date(start.getFullYear(), start.getMonth(), start.getDate(), 0, 0, 0, 0);\n\t\t\treturn test.getTime() <= realEnd.getTime() && test.getTime() >= realStart.getTime();\n\t\t}\n\t}, {\n\t\tkey: 'isSameDay',\n\t\tvalue: function isSameDay(d1, d2) {\n\t\t\treturn d1.getFullYear() === d2.getFullYear() && d1.getMonth() === d2.getMonth() && d1.getDate() === d2.getDate();\n\t\t}\n\t}, {\n\t\tkey: 'daysInMonth',\n\t\tvalue: function daysInMonth(y, m) {\n\t\t\t// expects JS month\n\t\t\tvar isLeap = y % 4 == 0 && (y % 100 != 0 || y % 400 == 0);\n\t\t\treturn [31, isLeap ? 29 : 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31][m];\n\t\t}\n\t}, {\n\t\tkey: 'dayOfYear',\n\t\tvalue: function dayOfYear(d) {\n\t\t\tvar y = d.getFullYear(),\n\t\t\t    m = d.getMonth();\n\t\t\treturn m * 31 - (m > 1 ? (1054267675 >> m * 3 - 6 & 7) - (y & 3 || !(y % 25) && y & 15 ? 0 : 1) : 0) + d.getDate();\n\t\t}\n\t}, {\n\t\tkey: 'treatAsUTC',\n\t\tvalue: function treatAsUTC(date) {\n\t\t\tvar result = new Date(date);\n\t\t\tresult.setMinutes(result.getMinutes() - result.getTimezoneOffset());\n\t\t\treturn result;\n\t\t}\n\t}, {\n\t\tkey: 'daysBetween',\n\t\tvalue: function daysBetween(startDate, endDate) {\n\t\t\tvar millisecondsPerDay = 24 * 60 * 60 * 1000;\n\t\t\treturn (dsq.treatAsUTC(endDate) - dsq.treatAsUTC(startDate)) / millisecondsPerDay;\n\t\t}\n\t}, {\n\t\tkey: 'format',\n\t\tvalue: function format(dateObj, _format) {\n\t\t\t// set default format if function argument not provided\n\t\t\t_format = _format || 'yyyy-mm-dd';\n\n\t\t\tvar leadingZero = function leadingZero(number, length) {\n\t\t\t\tnumber = number.toString();\n\t\t\t\tlength = length || 2;\n\t\t\t\twhile (number.length < length) {\n\t\t\t\t\tnumber = '0' + number;\n\t\t\t\t}return number;\n\t\t\t},\n\n\n\t\t\t// ordinal suffix \n\t\t\tordinalSuffix = function ordinalSuffix(i) {\n\t\t\t\tvar j = i % 10,\n\t\t\t\t    k = i % 100;\n\t\t\t\tif (j == 1 && k != 11) {\n\t\t\t\t\treturn i + \"st\";\n\t\t\t\t}\n\t\t\t\tif (j == 2 && k != 12) {\n\t\t\t\t\treturn i + \"nd\";\n\t\t\t\t}\n\t\t\t\tif (j == 3 && k != 13) {\n\t\t\t\t\treturn i + \"rd\";\n\t\t\t\t}\n\t\t\t\treturn i + \"th\";\n\t\t\t},\n\n\n\t\t\t// define formats\n\t\t\tformats = {\n\t\t\t\tyyyy: dateObj.getFullYear(), // 1900, 1901, ..., 2099\n\t\t\t\tyy: dateObj.getFullYear().toString().slice(2), //  00, 01, ..., 99\n\t\t\t\tmmmm: dateObj.toLocaleString('en-gb', {\n\t\t\t\t\tmonth: \"long\"\n\t\t\t\t}), // January, February, ..., December\n\t\t\t\tmmm: dateObj.toLocaleString('en-gb', {\n\t\t\t\t\tmonth: \"short\"\n\t\t\t\t}), // Jan, Feb, ..., Dec\n\t\t\t\tmm: leadingZero(dateObj.getMonth() + 1), // 01, 02, ..., 12\n\t\t\t\tmx: ordinalSuffix(dateObj.getMonth() + 1), // 1st, 2nd, ..., 12th\n\t\t\t\tm: dateObj.getMonth() + 1, // 1, 2, ..., 12\n\t\t\t\twwww: dateObj.toLocaleString('en-gb', {\n\t\t\t\t\tweekday: \"long\"\n\t\t\t\t}), // Sunday, Monday, ..., Saturday\n\t\t\t\twww: dateObj.toLocaleString('en-gb', {\n\t\t\t\t\tweekday: \"short\"\n\t\t\t\t}), // Sun, Mon, ..., Sat\n\t\t\t\tww: dateObj.toLocaleString('en-gb', {\n\t\t\t\t\tweekday: \"short\"\n\t\t\t\t}).slice(0, 2), // Su, Mo, ..., Sa\n\t\t\t\tw: dateObj.getDay(), // 0, 1, ..., 6\n\t\t\t\tdddd: leadingZero(dsq.dayOfYear(dateObj), 3), // 001, 002, ..., 366\n\t\t\t\tdddx: ordinalSuffix(dsq.dayOfYear(dateObj)), // 1st, 2nd, ..., 366th\n\t\t\t\tddd: dsq.dayOfYear(dateObj), // 1, 2, ..., 366\n\t\t\t\tdd: leadingZero(dateObj.getDate()), // 01, 02, ..., 31\n\t\t\t\tdx: ordinalSuffix(dateObj.getDate()), // 1st, 2nd, ..., 31st\n\t\t\t\td: dateObj.getDate() // 1, 2, ..., 31\n\t\t\t},\n\n\n\t\t\t// make pattern\n\t\t\tpattern = '(' + Object.keys(formats).join(')|(') + ')';\n\n\t\t\treturn _format.replace(new RegExp(pattern, 'g'), function (match) {\n\t\t\t\treturn formats[match];\n\t\t\t});\n\t\t}\n\t}]);\n\n\treturn dsq;\n}();\n\n;\n\nexports.default = dsq;\n\n//# sourceURL=webpack://dsq/./src/plugin/part/core.js?");

/***/ }),

/***/ "./src/plugin/part/settings.js":
/*!*************************************!*\
  !*** ./src/plugin/part/settings.js ***!
  \*************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nvar defaults = { // dsq defaults\n\tstart: new Date(), // first selectable day\n\tend: { // last selectable day\n\t\td: new Date().getDate(),\n\t\tm: new Date().getMonth(),\n\t\ty: new Date().getFullYear() + 10\n\t},\n\tinitial: false, // set the value the field should be set to on initialisation (before user input)\n\tpattern: 'dx mmm yyyy', // visual output format (displayed in the input) \n\tpatternSave: 'yyyy-mm-dd', // data-date value output format \n\tday: true, // if true then a day is selectable\n\tmonth: true, // if true then a month is selectable\n\tdisableDates: false, // a list of Date objects or ranges [from, to] that define days to exclude as selectable\n\tmarkToday: true, // if true then the \"today\" indicator is shown\n\tclassPrefix: 'dsq-', // prefix JS-added classes - if changed scss variable \"$dsq-prefix\" must be updated too\n\thideScrollbars: false, // if true then a scrollbars on year and month list are hidden (visual effect)\n\tactivation: function activation() {\n\t\treturn true;\n\t}, // if the function evaluates to true when DOM loads then dateSquirrel activates\n\tcallback: function callback() {}, // optional callback fired on date completion\n\t//console.log('Date set: ', this.date);\n\t//console.log('The input element: ', this.input);\n\t//console.log('The dateSquirrel wrapper: ', this.wrapper);\n\tparse: {\n\t\tactive: true, // if true dateSquirrel will (after [parseDelay]ms) parse, format and rewrite a user given date\n\t\tdelay: 100, // the delay in ms before dateSquirrel will parse, format and rewrite a user given date\n\t\tetype: 'change', // the type of event dateSquirrel will listen for before parsing >> https://developer.mozilla.org/en-US/docs/Web/Events\n\t\trule: 'dmy' // the expected order a user will input a date (default = day > month > year)\n\t},\n\toverlay: false, // if true dateSquirrel will position the generated submenus absolutely\n\tmonthList: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'] // The list of months\n};\n\nexports.default = defaults;\n\n//# sourceURL=webpack://dsq/./src/plugin/part/settings.js?");

/***/ })

/******/ });
});